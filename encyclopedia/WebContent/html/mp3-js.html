<html>
<head>
<title></title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="Keywords" content="Owen Ou, Qunxin Ouyang, User Profile">
<meta name="description" content="User Management">
<script language="JavaScript">

var userStart=0;var userEnd=99;var bangStart=100;var bangEnd=100;var zhangLoc=101;function songNode(){this.lrcid


="";this.other="";this.singer="";this.song="";this.titleid="";this.type="";this.encode="";this.decode="";this.nothing="";this.active=""};

function listNode(){this.list="";this.listid="";this.song_arr=new Array()};var list_arr=new Array();list_arr[0]=new listNode();list_arr[0].list="默认列表";list_arr[100]=new listNode();list_arr[100].list="中文金曲榜";list_arr[100].listid="1";list_arr[zhangLoc]=new listNode();var arrBaiduAds=new Array();function Combiner(doWhat){this.initList=function(){var objs_arr=Utils.O(0,"list_div");var innerHTML_str="";var i=0;while(i<=userEnd){if(typeof(list_arr[i])!="undefined"){innerHTML_str+='<div id="'+String(i)+'" class="LstDf_div_css" title="'+list_arr[i].list+'" onclick="Controller(event)">'+Utils.cutStringForShort(list_arr[i].list,"list")+'</div>'};i++};innerHTML_str+='<div class="MenuPl_div_css">榜单家族</div>';for(var i=bangStart;i<=bangEnd;i++){innerHTML_str+='<div id="'+String(i)+'" class="LstDf_div_css" title="'+list_arr[i].list+'" onclick="Controller(event)">'+Utils.cutStringForShort(list_arr[i].list,"list")+'</div>'};if(Map.statusMap.gate==Map.statusMap.GATE3&&list_arr[zhangLoc].listid!=""){innerHTML_str+='<div id="'+String(zhangLoc)+'" class="LstDf_div_css" title="'+list_arr[zhangLoc].list+'" onclick="Controller(event)">'+Utils.cutStringForShort(list_arr[zhangLoc].list,"list")+'</div>'};if(Map.statusMap.gate==Map.statusMap.GATE4){innerHTML_str+='<div class="MenuPl_div_css">音乐掌门人</div>';innerHTML_str+='<div id="'+String(zhangLoc)+'" class="LstDf_div_css" title="'+list_arr[zhangLoc].list+'" onclick="Controller(event)">'+Utils.cutStringForShort(list_arr[zhangLoc].list,"list")+'</div>'};innerHTML_str+='<div class="MenuPle_div_css">&nbsp;</div>';objs_arr["list_div"].innerHTML=innerHTML_str};this.initSong=function(){var objs_arr=Utils.O(0,"song_div");objs_arr["song_div"].innerHTML="";var innerHTML_str="";var len=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length;if(len>0){var i=0;while(i<len){var item=document.createElement("div");item.id=String(i+500);item.className="S_div_css";objs_arr["song_div"].appendChild(item);song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].song;singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].singer;other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].other;if(list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].nothing!="0"){innerHTML_str='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='<div class="SS_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</a></div>';innerHTML_str+='<div class="SR_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(singer,"singer")+'</a></div>';if(parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'}}else{item.style.color="#C5C5C5";item.title=Map.statusMap.alts["noURL"];innerHTML_str='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='<div class="SS_div_css" title="'+Map.statusMap.alts["noURL"]+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</div>';innerHTML_str+='<div class="SR_div_css" title="'+Map.statusMap.alts["noURL"]+'">'+Utils.cutStringForShort(singer,"singer")+'</div>';if(parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'}};item.innerHTML=innerHTML_str;i++}}else{if(parseInt(Map.statusMap.NOWSELECTLIST)<bangStart){objs_arr["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_noSong]}else{objs_arr["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_failureLoad]}}};this.addSong=function(){var objs_arr=Utils.O(0,"song_div");var prelen=objs_arr["song_div"].childNodes.length;if(objs_arr["song_div"].innerHTML==Map.msgMap[Map.errorCode.Err_noSong]||objs_arr["song_div"].innerHTML==Map.msgMap[Map.errorCode.Err_cookieDisabled]){prelen--;objs_arr["song_div"].innerHTML=""};var nowlen=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length;var innerHTML_str=objs_arr["song_div"].innerHTML;var i=prelen;while(i<nowlen){song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].song;singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].singer;other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].other;innerHTML_str+='<div id='+String(i+500)+' class="S_div_css">';innerHTML_str+='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='<div class="SS_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</a></div>';innerHTML_str+='<div class="SR_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(singer,"singer")+'</a></div>';innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='</div>';i++};objs_arr["song_div"].innerHTML=innerHTML_str;if(Map.statusMap.isAds){var pos=2}else{var pos=14};if(nowlen>pos){objs_arr["song_div"].scrollTop=25*(nowlen-pos)};if(Map.statusMap.selectElem!==null){if(Utils.O(0,Map.statusMap.selectElem.id)[Map.statusMap.selectElem.id]){Map.statusMap.selectElem=Utils.O(0,Map.statusMap.selectElem.id)[Map.statusMap.selectElem.id]}}};this.playSong=function(){if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){if(Map.statusMap.selectElem){Map.statusMap.selectElem.className="S_div_css"};var innerHTML_str="";if(Map.statusMap.prePlayingSong!=""||Map.statusMap.prePlayingSong=="0"){var i=parseInt(Map.statusMap.prePlayingSong);var presong=String(i+500);if(Utils.O(0,presong)[presong].title!=Map.statusMap.alts["noURL"]){var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].other;innerHTML_str+='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='<div class="SS_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</a></div>';innerHTML_str+='<div class="SR_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(singer,"singer")+'</a></div>';if(parseInt(Map.statusMap.NOWPLAYINGLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'};Utils.O(0,presong)[presong].className="S_div_css";Utils.O(0,presong)[presong].innerHTML=innerHTML_str}else{Utils.O(0,presong)[presong].className="S_div_css"}};if(Map.statusMap.nowSongIndex!=""){var nowsong=String(parseInt(Map.statusMap.nowSongIndex)+500);var objs_arr=Utils.O(0,nowsong);innerHTML_str="";var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].other;var lrcid=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].lrcid;var type=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].type;innerHTML_str+='<div class="SP_div_css"><img src="'+Map.statusMap.imgs["pycg"].src+'" class="now_img_css" title="'+Map.statusMap.alts["pycg"]+'" /></div>';innerHTML_str+='<div class="SS_div_css" style="cursor:pointer" title="'+song+' '+other+' '+singer+'"><b>'+Utils.cutStringForShort(song+' '+other,"play")+'</b></div>';innerHTML_str+='<div class="SRC_div_css" style="cursor:pointer" title="'+song+' '+other+' '+singer+'"><b>'+Utils.cutStringForShort(singer,"retry")+'</b></div>';switch(type){case "wma":case "mp3":var retryObj=Utils.O(1,"try_iframe","MediaPlayer1")["MediaPlayer1"];if(retryObj&&Map.statusMap.isNOW){if(retryObj.IsDurationValid&&retryObj.Duration>0){var playing=true}else{var playing=false}}else{var playing=false};break;case "rm":var retryObj=Utils.O(1,"try_iframe","RealPlayer1")["RealPlayer1"];if(retryObj&&Map.statusMap.isNOW){if(retryObj.GetLength()>0){var playing=true}else{var playing=false}}else{var playing=false};break};if(playing){innerHTML_str+='<div id="SRCS_div" onclick="Controller(event);return false;"><a id="retry_a" href="javascript:void(0)" title="'+Map.statusMap.alts["retry"]+'">重选</a></div>'}else{innerHTML_str+='<div id="SRCS_div" style="visibility:hidden" onclick="Controller(event);return false;"><a id="retry_a" href="javascript:void(0)" title="'+Map.statusMap.alts["retry"]+'">重选</a></div>'};if(parseInt(Map.statusMap.NOWPLAYINGLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" src="'+Map.statusMap.imgs["del"].src+'" class="now_img_css" title="'+Map.statusMap.alts["del"]+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'};objs_arr[nowsong].className="S_div_css Scg_div_css";objs_arr[nowsong].innerHTML=innerHTML_str}}};this.initMis=function(){var objs_arr=Utils.O(0,"Mis","ST_div","showresult_div","PopAddS_div","addsongwin_div","PopAdd_div","selectall_div","addsong_text","addsong_btn");var i=0;var len=Map.statusMap.misArr.length;var innerHTML_str="";while(i<len){var title_arr=Map.statusMap.misArr[i].split("$$");var title_str=title_arr[0]+" "+title_arr[1];innerHTML_str+='<label for="'+String(1000+i)+'">';innerHTML_str+='<div id="SlD_div" class="SlD_div_css" title="'+title_str+'">';if(i==0){innerHTML_str+='<div><input type="checkbox" checked name="SlD_div" id="'+String(1000+i)+'" /></div>'}else{innerHTML_str+='<div><input type="checkbox" name="SlD_div" id="'+String(1000+i)+'" /></div>'};innerHTML_str+='<div id="SlSD_div" title="'+title_str+'">'+Utils.cutStringForShort(title_arr[0],"song")+'</div>';innerHTML_str+='<div class="SlRD_div" title="'+title_str+'">'+Utils.cutStringForShort(title_arr[1],"singer")+'</div>';innerHTML_str+='</div>';innerHTML_str+='</label>';i++};if(len<=10){objs_arr["showresult_div"].style.height=String(24*len)+"px";objs_arr["PopAddS_div"].style.height=String(199+24*len)+"px";objs_arr["PopAddS_div"].style.top=String(276-24*len)+"px";objs_arr["PopAdd_div"].style.top=String(271-24*len)+"px"}else{objs_arr["showresult_div"].style.height="240px";objs_arr["PopAddS_div"].style.height="439px";objs_arr["PopAddS_div"].style.top="36px";objs_arr["PopAdd_div"].style.top="31px"};objs_arr["addsong_text"].disabled=true;objs_arr["addsong_text"].style.background="#C5C5C5";objs_arr["showresult_div"].innerHTML=innerHTML_str;objs_arr["Mis"].style.display="block";objs_arr["ST_div"].style.display="block";objs_arr["showresult_div"].style.display="block";objs_arr["selectall_div"].style.display="block";objs_arr["addsong_btn"].style.display="block"};this.initRS=function(){var objs_arr=Utils.O(0,"Mis","ST_div","showresult_div","PopAddS_div","addsongwin_div","PopAdd_div","selectall_div","addsong_text","addsong_btn");var i=0;var len=Map.statusMap.RSArr.length;var innerHTML_str="&nbsp;您要找的是不是：";while(i<len){var rs=Map.statusMap.RSArr[i];if(i!=0){innerHTML_str+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="'+String(10000+i)+'" href="javascript:void(0)" onclick="Controller(event);return false;" title="'+rs+'">'+rs+'</a><br />'}else{innerHTML_str+='<a id="'+String(10000+i)+'" href="javascript:void(0)" onclick="Controller(event);return false;" title="'+rs+'">'+rs+'</a><br />'};i++};objs_arr["showresult_div"].style.height=String(24*len)+"px";objs_arr["PopAddS_div"].style.height=String(98+24*len)+"px";objs_arr["PopAddS_div"].style.top=String(377-24*len)+"px";objs_arr["PopAdd_div"].style.top=String(372-24*len)+"px";objs_arr["addsong_text"].disabled=true;objs_arr["addsong_text"].style.background="#C5C5C5";objs_arr["addsong_btn"].style.display="none";objs_arr["showresult_div"].innerHTML=innerHTML_str;objs_arr["showresult_div"].style.display="block"};this.noURL=function(){if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){if(Map.statusMap.selectElem){Map.statusMap.selectElem.className="S_div_css"};var innerHTML_str="";if(Map.statusMap.prePlayingSong!=""||Map.statusMap.prePlayingSong=="0"){var i=parseInt(Map.statusMap.prePlayingSong);var presong=String(i+500);if(Utils.O(0,presong)[presong].title!=Map.statusMap.alts["noURL"]){var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[i].other;innerHTML_str+='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'" onclick="Controller(event)" /></div>';innerHTML_str+='<div class="SS_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</a></div>';innerHTML_str+='<div class="SR_div_css" onclick="Controller(event);return false;"><a id="play_a" href="javascript:void(0)" title="'+song+' '+other+' '+singer+'">'+Utils.cutStringForShort(singer,"singer")+'</a></div>';if(parseInt(Map.statusMap.NOWPLAYINGLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'};Utils.O(0,presong)[presong].className="S_div_css";Utils.O(0,presong)[presong].innerHTML=innerHTML_str}else{Utils.O(0,presong)[presong].className="S_div_css"}};if(Map.statusMap.nowSongIndex!=""){var elemid=String(parseInt(Map.statusMap.nowSongIndex)+500);var obj=Utils.O(0,elemid);var innerHTML_str="";var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[parseInt(Map.statusMap.nowSongIndex)].other;innerHTML_str+='<div class="SP_div_css"><img id="play_img" title="'+Map.statusMap.alts["play"]+'" src="'+Map.statusMap.imgs["play"].src+'"/></div>';innerHTML_str+='<div class="SS_div_css" style="cursor:pointer;color:#C5C5C5" title="'+Map.statusMap.alts["noURL"]+'">'+Utils.cutStringForShort(song+' '+other,"song")+'</div>';innerHTML_str+='<div class="SR_div_css" style="cursor:pointer;color:#C5C5C5" title="'+Map.statusMap.alts["noURL"]+'">'+Utils.cutStringForShort(singer,"singer")+'</div>';if(parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){innerHTML_str+='<div class="SD_div_css"><img id="del_img" title="'+Map.statusMap.alts["del"]+'" src="'+Map.statusMap.imgs["del"].src+'" onclick="Controller(event)" /></div>'}else{innerHTML_str+='<div class="SD_div_css"></div>'};obj[elemid].title=Map.statusMap.alts["noURL"];obj[elemid].className="S_div_css Scg_div_css";obj[elemid].innerHTML=innerHTML_str}}};this.mp3Query=function(){var objs_arr=Utils.O(0,"Mis","ST_div","showresult_div","PopAddS_div","addsongwin_div","PopAdd_div","selectall_div","addsong_text","addsong_btn");var innerHTML_str="";innerHTML_str+='&nbsp;&nbsp;<img src="'+Map.statusMap.imgs["tip"].src+'" />';innerHTML_str+='对于“'+Utils.cutStringForShort(Utils.trim(Utils.cutStringForShort(objs_arr["addsong_text"].value,"addsong").replace(/\#/g," ").replace(/\>/g," ").replace(/\</g," ").replace(/\"/g, " ")), "query")+'”这个歌曲，系统无法准确的为您选取资源。您可以';innerHTML_str+='<a id="tip" href="javascript:void(0)" onclick="Controller(event);return false;">点击此处</a>立即跳转到“';innerHTML_str+=Utils.cutStringForShort(Utils.trim(Utils.cutStringForShort(objs_arr["addsong_text"].value,"addsong").replace(/\#/g," ").replace(/\>/g," ").replace(/\</g," ").replace(/\"/g, " ")), "query")+'”的搜索结果页选择您需要的资源进行添加。';innerHTML_str+='<br><br><br><a id="close_img" href="javascript:void(0)" onclick="Controller(event);return false;">关闭此页面</a>';if(Map.statusMap.addSong=="1"){objs_arr["PopAddS_div"].style.height="209px";objs_arr["PopAddS_div"].style.top="266px";objs_arr["PopAdd_div"].style.top="261px";objs_arr["addsong_btn"].style.display="none";objs_arr["addsong_text"].disabled=true;objs_arr["addsong_text"].style.background="#C5C5C5";objs_arr["showresult_div"].style.display="block";objs_arr["showresult_div"].style.height="110px"};objs_arr["showresult_div"].innerHTML=innerHTML_str};switch(doWhat){case "initList":initList();break;case "initSong":initSong();break;case "addSong":addSong();break;case "playSong":playSong();break;case "initMis":initMis();break;case "initRS":initRS();break;case "noURL":noURL();break;case "mp3Query":mp3Query();break;default:break}};function Communicator(){this.results="-5";this.args=arguments;this.responseHandler=function(){if(Map.statusMap.xmlHttp.readyState==4&&Map.statusMap.xmlHttp.status==200){if(Map.statusMap.xmlHttp.responseXML.xml!=""){var params_arr=Utils.getSearchAsArray(args[1]);var xmlDoc=Map.statusMap.xmlHttp.responseXML.documentElement.childNodes;var firstItem=xmlDoc.item(0);switch(params_arr["x?op"]){case "1":case "2":case "5":case "8":case "9":case "10":case "13":results=firstItem.text;Map.statusMap.xmlHttp.abort();break;case "3":case "4":case "7":case "12":results=xmlDoc;Map.statusMap.xmlHttp.abort();break}}else{Map.statusMap.xmlHttp.abort();return results}}};if(Map.statusMap.xmlHttp==null){Map.statusMap.xmlHttp=Utils.initXMLHTTP()}else{Map.statusMap.xmlHttp.abort()};if(Map.statusMap.xmlHttp!==null&&args.length%2==1&&args.length>=5){Map.statusMap.xmlHttp.onreadystatechange=responseHandler;Map.statusMap.xmlHttp.open(args[0],args[1],args[2],args[3],args[4]);if(args.length>5){for(i=5;i<args.length;i=i+2){Map.statusMap.xmlHttp.setResquestHeader(args[i],args[i+1])}};Map.statusMap.xmlHttp.send()}else{results="-4";Map.statusMap.xmlHttp.abort();return results};Map.statusMap.xmlHttp.abort();return results};function dragndropDefine(){};dragndropDefine.prototype.init=function(){Map.statusMap.cloneObj=document.createElement("div");Map.statusMap.cloneObj.id="clone";Map.statusMap.cloneObj.style.cssText="position:absolute;display:none;z-index:999995;";Map.statusMap.cloneObj.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=65)";document.body.appendChild(Map.statusMap.cloneObj)};dragndropDefine.prototype.mouseMove=function(evt){if(Map.statusMap.mouseDown){evt=(evt)?evt:((window.event)?window.event:null);var deltaY=evt.clientY-Map.statusMap.lastY;var deltaX=evt.clientX-Map.statusMap.lastX;Map.statusMap.lastY=evt.clientY;Map.statusMap.lastX=evt.clientX;var lastA=474;if(Map.statusMap.isAds){lastA=188};if(Map.statusMap.lastY<=lastA&&Map.statusMap.lastY>=100){Map.statusMap.cloneObj.style.top=parseInt(Map.statusMap.cloneObj.style.top)+deltaY};if(Map.statusMap.lastX<=400&&Map.statusMap.lastX>=13){Map.statusMap.cloneObj.style.left=parseInt(Map.statusMap.cloneObj.style.left)+deltaX};var posX=evt.clientX;var posY=evt.clientY;var posA=460;if(Map.statusMap.isAds){posA=160};if(posX>=130&&posX<=400&&posY>=110&&posY<=posA&&Map.statusMap.switchBox==Map.statusMap.SHOW){var obj=Utils.O(0,"song_div")["song_div"];var pos=Math.floor(obj.scrollTop/25);var offset=((pos+1)*25-obj.scrollTop)%25;var i=0;var elemid="";var limit=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length-1;if(Map.statusMap.toList!==null){var last=Utils.O(0,String(Map.statusMap.toList))[String(Map.statusMap.toList)];if(last.className!="LstCur_div_css"){last.style.cssText="";last.className="LstDf_div_css"}};Map.statusMap.toList=null;if(posY>=110&&posY<=110+offset&&limit>=(i+pos)){elemid=String(500+i+pos)}else{var lenA=14;if(Map.statusMap.isAds){lenA=2};while(i<lenA){var Top=110+i*25+offset;var Bottom=110+(i+1)*25+offset;if(posY>=Top&&posY<=Bottom){if(offset>0){i++};break};i++};if(limit>=(i+pos)){elemid=String(500+i+pos)}};if(elemid!=""){Map.statusMap.lastElem=Utils.O(0,elemid)[elemid]}else{Map.statusMap.lastElem=null}}else if(posX>=13&&posX<130&&posY>=100&&posY<=lastA&&Map.statusMap.switchBox==Map.statusMap.SHOW){var obj=Utils.O(0,"list_div")["list_div"];var pos=Math.floor(obj.scrollTop/26);var len=obj.childNodes.length-1;var isList=new Array(14);var user=0;Map.statusMap.lastElem=null;for(var i=1;i<=userEnd;i++){if(typeof(list_arr[i])=="undefined"){user=i;break}else if(i==userEnd){user=i+1;break}};user=user-pos;var lenA=14;if(Map.statusMap.isAds){lenA=3};if(user>=lenA){user=lenA};for(var i=0;i<user;i++){isList[i]=pos+i};var i=user;while(i<lenA){isList[i]=-1;i++};var i=0;while(i<lenA){var Top=104+i*26;var Bottom=104+i*26+26;if(posY>=Top&&posY<=Bottom){if(isList[i]>=0){if(Map.statusMap.toList!=null){var last=Utils.O(0,String(Map.statusMap.toList))[String(Map.statusMap.toList)];if(last.className!="LstCur_div_css"){last.style.cssText="";last.className="LstDf_div_css"}};Map.statusMap.toList=isList[i];var obj=Utils.O(0,String(isList[i]))[String(isList[i])];if(obj.className!="LstCur_div_css"){obj.style.cssText="background:#0000FF;background-image:url("+Map.statusMap.imgsServer+"imgs/listcb.gif);background-repeat:no-repeat;background-position:13px 6px;padding:5px 0 5px 30px;border:1px solid #A0BACD;border-right:0;position:relative;z-index:127;cursor:default;;width:107px"}}else{if(Map.statusMap.toList!=null){var last=Utils.O(0,String(Map.statusMap.toList))[String(Map.statusMap.toList)];if(last.className!="LstCur_div_css"){last.style.cssText="";last.className="LstDf_div_css"}};Map.statusMap.toList=null};break};i++}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};Map.statusMap.lastElem=null;Map.statusMap.mouseDown=false;Map.statusMap.lastX=null;Map.statusMap.lastY=null;Map.statusMap.cloneObj.style.cursor="default";Map.statusMap.cloneObj.style.display="none"}}};dragndropDefine.prototype.mouseUp=function(evt){if(Map.statusMap.mouseDown){Map.statusMap.mouseDown=false;if(Map.statusMap.selectElem!==null){if(Map.statusMap.toList!==null||(Map.statusMap.lastElem!==null&&Map.statusMap.lastElem!=Map.statusMap.selectElem)){var elemid=-1;if(Map.statusMap.lastElem!==null){var elemid=parseInt(Map.statusMap.lastElem.id)}else if(Map.statusMap.toList!==null){var elemid=Map.statusMap.toList};if(elemid>=500){if(Map.statusMap.fromList<=userEnd){var i=parseInt(Map.statusMap.selectElem.id)-500;var j=elemid-500;if(Map.statusMap.nowSongIndex!=""&&Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){if(parseInt(Map.statusMap.nowSongIndex)==i){Map.statusMap.nowSongIndex=String(j)}else if(i>j&&parseInt(Map.statusMap.nowSongIndex)>=j&&parseInt(Map.statusMap.nowSongIndex)<i){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)+1)}else if(i<j&&parseInt(Map.statusMap.nowSongIndex)>i&&parseInt(Map.statusMap.nowSongIndex)<=j){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1)};var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}};var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);var temp=Utils.O(0,"song_div")["song_div"];var tempNode=new songNode();var innerHTML_str=Map.statusMap.selectElem.innerHTML;var title_str=Map.statusMap.selectElem.title;while(i!=j){var flag=i;if(i>j){i--}else{i++};temp.childNodes[flag].innerHTML=temp.childNodes[i].innerHTML;temp.childNodes[flag].title=temp.childNodes[i].title;tempNode=list_arr[nowlist].song_arr[flag];list_arr[nowlist].song_arr[flag]=list_arr[nowlist].song_arr[i];list_arr[nowlist].song_arr[i]=tempNode};temp.childNodes[j].innerHTML=innerHTML_str;temp.childNodes[j].title=title_str;temp.childNodes[j].className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)";Map.statusMap.selectElem=temp.childNodes[j];Map.statusMap.lastElem=null;if(Map.statusMap.login){Map.statusMap.hasChanged[nowlist]=1}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css"}}}else if(elemid>=0&&elemid<userEnd){if(Map.statusMap.fromList!=elemid){if(Map.statusMap.hasCache[elemid]==0){var toListLen=0;if(Map.statusMap.login){var query_str=Utils.setQueryString("3");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:var dataLen=parseInt(results.item(0).text);var nodeLen=results.length-1;if(dataLen==nodeLen){var i=0;if(results.item(1).childNodes.item(0).text!="0"){list_arr[0].listid=results.item(1).childNodes.item(0).text;while(i<dataLen){var tempNode=results.item(i+1).childNodes;if(i==elemid){var toListLen=parseInt(tempNode.item(2).text)};i++}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{var tag="bdmb";var tagIndex=0;var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));while(tagIndex<4&&title_str!=null){var title_arr=title_str.split("??");toListLen+=title_arr.length-1;tagIndex++;title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1))}}}else{var toListLen=list_arr[elemid].song_arr.length};if(Map.statusMap.fromList<=userEnd){if(Map.statusMap.login){if(toListLen<Map.statusMap.MAXSONGLIMIT){var nowSongIndex=parseInt(Map.statusMap.selectElem.id)-500;var query_str=Utils.setQueryString("9",list_arr[Map.statusMap.fromList].listid,"1",list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].titleid,list_arr[elemid].listid);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results){case "-1":case "-3":if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(results=="1"){if(Map.statusMap.hasCache[elemid]==1){list_arr[elemid].song_arr.push(new songNode());list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1]=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex]};list_arr[Map.statusMap.fromList].song_arr.splice(nowSongIndex,1);if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(elemid)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}};var isNow=false;if(Map.statusMap.NOWPLAYINGLIST!=""&&String(Map.statusMap.fromList)==Map.statusMap.NOWPLAYINGLIST){var listIndex=Map.statusMap.fromList;var songLen=list_arr[listIndex].song_arr.length;if(songLen>0){if(nowSongIndex==parseInt(Map.statusMap.nowSongIndex)){isNow=true;if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null;Map.statusMap.prePlayingSong="";switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:if(songLen==1){Map.statusMap.preSongIndex="0";Map.statusMap.nextSongIndex="0"}else{if(Map.statusMap.nowSongIndex!=Map.statusMap.nextSongIndex){if(Map.statusMap.nextSongIndex!="0"){Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)-1)}else{Map.statusMap.nextSongIndex=String(songLen-1)}}else{Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)%songLen)}};if(parseInt(Map.statusMap.preSongIndex)>=songLen){Map.statusMap.preSongIndex=String(songLen-1)};Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];Map.statusMap.nowSongIndex=Map.statusMap.nextSongIndex;break;case Map.statusMap.RMODE:if(songLen==1){Map.statusMap.preSongIndex="0";Map.statusMap.nextSongIndex="0"}else if(parseInt(Map.statusMap.nextSongIndex)>=nowSongIndex){Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)-1)}else if(parseInt(Map.statusMap.preSongIndex)>=nowSongIndex){Map.statusMap.preSongIndex=String(parseInt(Map.statusMap.preSongIndex)-1)};Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];Map.statusMap.nowSongIndex=Map.statusMap.nextSongIndex;break}}else if(nowSongIndex==parseInt(Map.statusMap.nextSongIndex)||nowSongIndex==parseInt(Map.statusMap.preSongIndex)){if(nowSongIndex==parseInt(Map.statusMap.nextSongIndex)){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.player=null}else{};switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:if(nowSongIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1)};var songIndex=parseInt(Map.statusMap.nowSongIndex);Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:if(nowSongIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1)};var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}else if(!isNaN(parseInt(Map.statusMap.nowSongIndex))&&nowSongIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1);var songIndex=parseInt(Map.statusMap.nowSongIndex);switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null;Map.statusMap.prePlayingSong="";Map.statusMap.nowSongIndex="";Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}};var obj=Utils.O(0,"song_div");var len=obj["song_div"].childNodes.length;var div=obj["song_div"].childNodes;var i=nowSongIndex;Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)";while(i<len-1){div.item(i).innerHTML=div.item(i+1).innerHTML;div.item(i).className=div.item(i+1).className;i++};obj["song_div"].removeChild(obj["song_div"].children(len-1));if(obj["song_div"].childNodes.length==0){obj["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_noSong]};if(isNow){Operators.nextSong()}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}}else if(Map.statusMap.fromList<=bangEnd||Map.statusMap.gate==Map.statusMap.GATE3){if(Map.statusMap.login){if(toListLen<Map.statusMap.MAXSONGLIMIT){var nowSongIndex=parseInt(Map.statusMap.selectElem.id)-500;var query_str=Utils.setQueryString("10",list_arr[Map.statusMap.fromList].listid,"1",list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].titleid,list_arr[elemid].listid);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results){case "-1":case "-3":if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(results=="1"){if(Map.statusMap.hasCache[elemid]==1){list_arr[elemid].song_arr.push(new songNode());list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1]=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex]};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(elemid)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}else{if(toListLen<Map.statusMap.MAXSONGLIMIT){var nowSongIndex=parseInt(Map.statusMap.selectElem.id)-500;if(Map.statusMap.hasCache[elemid]==1){list_arr[elemid].song_arr.push(new songNode());list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1]=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex]};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(elemid)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}}else if(Map.statusMap.gate==Map.statusMap.GATE4){if(Map.statusMap.login){if(toListLen<Map.statusMap.MAXSONGLIMIT){var nowSongIndex=parseInt(Map.statusMap.selectElem.id)-500;var song=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].song;var singer=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].singer;var other=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].other;var title_str=Utils.setTitleString(song,singer,other);var query_str=Utils.setQueryString("7","2",list_arr[elemid].listid,"1",title_str,"0");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-2":case "-3":if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css"};if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(results.item(0).text=="1"){var Node=results.item(1).childNodes;if(Node.item(0).text!="0"){if(Map.statusMap.hasCache[elemid]==1){list_arr[elemid].song_arr.push(new songNode());list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].titleid=Node.item(0).text;list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].song=Node.item(1).text.split("$$")[0];list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].singer=Node.item(1).text.split("$$")[1];list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].other=Node.item(1).text.split("$$")[2]};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(elemid)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}else{if(toListLen<Map.statusMap.MAXSONGLIMIT){var nowSongIndex=parseInt(Map.statusMap.selectElem.id)-500;var song=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].song;var singer=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].singer;var other=list_arr[Map.statusMap.fromList].song_arr[nowSongIndex].other;var title_str=Utils.setTitleString(song,singer,other);var query_str=Utils.setQueryString("7","2",list_arr[elemid].listid,"1",title_str,"0");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-2":case "-3":if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(results.item(0).text=="1"){var Node=results.item(1).childNodes;if(Map.statusMap.hasCache[elemid]==1){list_arr[elemid].song_arr.push(new songNode());list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].song=Node.item(1).text.split("$$")[0];list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].singer=Node.item(1).text.split("$$")[1];list_arr[elemid].song_arr[list_arr[elemid].song_arr.length-1].other=Node.item(1).text.split("$$")[2]};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(elemid)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}}}else{if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css Scgg_div_css";Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}}}};if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"};if(Map.statusMap.toList!==null&&String(Map.statusMap.toList)!=Map.statusMap.NOWSELECTLIST){Utils.O(0,String(Map.statusMap.toList))[String(Map.statusMap.toList)].style.cssText="";Utils.O(0,String(Map.statusMap.toList))[String(Map.statusMap.toList)].className="LstDf_div_css"};Map.statusMap.lastElem=null;Map.statusMap.fromList=null;Map.statusMap.toList=null;Map.statusMap.lastX=null;Map.statusMap.lastY=null;Map.statusMap.cloneObj.style.cursor="default";Map.statusMap.cloneObj.style.display="none"};dragndropDefine.prototype.mouseDown=function(evt){evt=(evt)?evt:((window.event)?window.event:null);var elem=evt.target?evt.target:evt.srcElement;var posX=evt.clientX;var posY=evt.clientY;var posA=460;if(Map.statusMap.isAds){posA=160};if(posX>=130&&posX<=400&&posY>=110&&posY<=posA&&Map.statusMap.switchBox==Map.statusMap.SHOW&&evt.button==1&&Utils.O(0,"loading")["loading"].style.visibility=="hidden"){switch(elem.id){case "play_a":case "play_img":case "del_img":case "retry_a":case "switch_img":break;default:var obj=Utils.O(0,"song_div")["song_div"];var pos=Math.floor(obj.scrollTop/25);var offset=((pos+1)*25-obj.scrollTop)%25;var i=0;var elemid="";var limit=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length-1;if(posY>=110&&posY<=110+offset&&limit>=(i+pos)){elemid=String(500+i+pos)}else{while(i<14){var Top=110+i*25+offset;var Bottom=110+(i+1)*25+offset;if(posY>=Top&&posY<=Bottom){if(offset>0){i++};break};i++};if(limit>=(i+pos)){elemid=String(500+i+pos)}};var wins_arr=Utils.O(0,"addsongwin_div","newlistwin_div","dellistwin_div","playmodewin_div","listmngwin_div");var canDrag=true;if(wins_arr["addsongwin_div"].style.display!="none"){canDrag=false}else if(wins_arr["newlistwin_div"].style.display!="none"){canDrag=false}else if(wins_arr["dellistwin_div"].style.display!="none"){canDrag=false}else if(wins_arr["playmodewin_div"].style.display!="none"){canDrag=false}else if(wins_arr["listmngwin_div"].style.display!="none"){canDrag=false};if(canDrag){if(Map.statusMap.nowSongIndex!=""&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){var nowplay=String(parseInt(Map.statusMap.nowSongIndex)+500);Utils.O(0,nowplay)[nowplay].className="S_div_css"};if(elemid!=""){if(Map.statusMap.selectElem!==null){Map.statusMap.selectElem.className="S_div_css"};Map.statusMap.selectElem=Utils.O(0,elemid)[elemid];Map.statusMap.fromList=parseInt(Map.statusMap.NOWSELECTLIST);for(var i=0;i<Map.statusMap.cloneObj.childNodes.length;i++){Map.statusMap.cloneObj.removeChild(Map.statusMap.cloneObj.childNodes[i])};var len=parseInt(elemid)-500;len=len-pos;offset=0;if(parseInt(Map.statusMap.nowSongIndex)<(parseInt(elemid)-500)){offset++};Map.statusMap.lastX=evt.clientX;Map.statusMap.lastY=evt.clientY;Map.statusMap.mouseDown=true;Map.statusMap.cloneObj.appendChild(Map.statusMap.selectElem.cloneNode(true));Map.statusMap.cloneObj.childNodes[0].className="S_div_css Scgg_div_css";Map.statusMap.cloneObj.style.cursor="move";Map.statusMap.cloneObj.style.top=110+25*len+offset-obj.scrollTop+pos*25;Map.statusMap.cloneObj.style.left=128;Map.statusMap.cloneObj.style.display="";if(Map.statusMap.fromList<=userEnd){Map.statusMap.selectElem.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}}};break}}};var DragnDrop=new dragndropDefine();function operatorsDefine(){};operatorsDefine.prototype.init=function(){document.body.onunload=closeIt;Map.statusMap.loaded=true;Map.statusMap.isFF=(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1);var params_arr=Utils.getSearchAsArray();var div=document.createElement("div");div.id="ad_script";Utils.O(0,"main")["main"].appendChild(div);if(!Map.statusMap.isFF){var wins_arr=Utils.O(0,"addsongwin_div","newlistwin_div","dellistwin_div","playmodewin_div","listmngwin_div");wins_arr["addsongwin_div"].style.display="none";wins_arr["newlistwin_div"].style.display="none";wins_arr["dellistwin_div"].style.display="none";wins_arr["playmodewin_div"].style.display="none";wins_arr["listmngwin_div"].style.display="none";Utils.O(0,"addsong_text")["addsong_text"].maxLength=64;Utils.O(0,"inputlist_text")["inputlist_text"].maxLength=40;DragnDrop.init();document.onmousemove=DragnDrop.mouseMove;document.onmousedown=DragnDrop.mouseDown;document.onmouseup=DragnDrop.mouseUp;document.ondragstart=function(){if(!Map.statusMap.canKeyDown){return false}};document.onselectstart=function(){if(!Map.statusMap.canKeyDown){return false}};document.onselect=function(){if(!Map.statusMap.canKeyDown){document.selection.empty()}};document.oncopy=function(){if(!Map.statusMap.canKeyDown){document.selection.empty()}};document.onbeforecopy=function(){if(!Map.statusMap.canKeyDown){return false}};document.onkeydown=function(){if(window.event.keyCode==8){if(!Map.statusMap.canKeyDown){window.event.returnValue=false}}else if(window.event.keyCode>=112&&window.event.keyCode<=123&&window.event.keyCode!=116){window.event.keyCode=0;window.event.returnValue=false}else if(window.event.keyCode==13){if(Utils.O(0,"addsongwin_div")["addsongwin_div"].style.display=="inline"){Operators.addSong()}}};Utils.O(0,"addsong_text")["addsong_text"].onfocus=function(){Map.statusMap.canKeyDown=true};Utils.O(0,"inputlist_text")["inputlist_text"].onfocus=function(){Map.statusMap.canKeyDown=true};Utils.O(0,"addsong_text")["addsong_text"].onfocusout=function(){Map.statusMap.canKeyDown=false};Utils.O(0,"inputlist_text")["inputlist_text"].onfocusout=function(){Map.statusMap.canKeyDown=false};Utils.O(0,"inputlist_text")["inputlist_text"].onkeydown=function(){if(window.event.keyCode==13){Operators.addList()}};Utils.O(0,"selectlist_slt")["selectlist_slt"].onkeydown=function(){if(window.event.keyCode==13){Operators.delList()}};var mode=Utils.Cookie.getCookie("bdmb0");if(mode!==null){Map.statusMap.playMode=parseInt(mode)%3};if(Utils.Cookie.getCookie("BDUSS")!==null){var results=Communicator("GET",Utils.setQueryString("13"),false,"","");switch(results){case "-1":case "-3":case "-4":case "-5":Map.statusMap.login=false;break;default:Map.statusMap.login=true;Map.statusMap.userName=results;break}}else{Map.statusMap.login=false};if(!Map.statusMap.login){var tag="bdmb";var tagIndex=0;var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));while(tagIndex<4&&title_str!=null){var title_arr=title_str.split("??");var len=title_arr.length-1;var i=0;while(i<len){list_arr[0].song_arr.push(new songNode());list_arr[0].song_arr[list_arr[0].song_arr.length-1].song=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[0]));list_arr[0].song_arr[list_arr[0].song_arr.length-1].singer=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[1]));list_arr[0].song_arr[list_arr[0].song_arr.length-1].other=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[2]));i++};tagIndex++;title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1))};Map.statusMap.hasCache[0]=1};window.moveTo((screen.width-document.body.clientWidth)/2,0);if(document.body.clientHeight!=220&&document.body.clientHeight!=222){window.resizeTo(399,600);window.moveTo((screen.width-document.body.clientWidth)/2,0)};if(params_arr["gate"]=="1"&&params_arr["si"].split(";;")[2]&&parseInt(params_arr["si"].split(";;")[2])<=0){Map.statusMap.hasLRC=false};var loading=document.createElement("div");loading.id="loading";loading.title="loading...";loading.innerText="正在加载，请稍后...";loading.style.cssText="visibility:hidden;position:absolute;z-index:10000000;font-size:14px;font-weight:bold;font-family:宋体;border-style:solid;border-width:1px;border_color:black;background-color:white;width:200px;height:30px;text-align:center;padding-top:6px;";Utils.O(0,"main")["main"].appendChild(loading)};if(params_arr!==null){switch(params_arr["gate"]){case "1":Map.statusMap.gate=Map.statusMap.GATE1;Map.statusMap.switchBox=Map.statusMap.HIDE;Map.statusMap.NOWSELECTLIST="0";var objs_arr=Utils.O(0,"Mng_div","MPc_div","Logo_div","user_div","switch_img","switch_div","try_iframe");if(objs_arr!=null){objs_arr["Mng_div"].style.display="none";objs_arr["MPc_div"].style.display="none";objs_arr["Logo_div"].style.display="none";objs_arr["user_div"].style.display="none";if(Map.statusMap.isFF){objs_arr["switch_img"].style.display="none";objs_arr["switch_div"].style.display="none"}};var query_str="m?";if(!Map.statusMap.isFF){var tn_str=unescape(params_arr["tn"].split(",").slice(1).join(","));if(params_arr["si"].split(";;")[2]&&parseInt(params_arr["si"].split(";;")[2])<=0){Map.statusMap.hasLRC=false;if(document.body.clientHeight==220||document.body.clientHeight==222){objs_arr["switch_img"].style.top="60px"}}}else{var tn_str=params_arr["tn"].split(",").slice(1).join(",")};query_str+="ct="+params_arr["ct"]+"&";query_str+="tn="+"baidumt,"+tn_str+"&";query_str+="word="+params_arr["word"]+"&";query_str+="si="+params_arr["si"]+"&";query_str+="lm="+params_arr["lm"];if(Map.statusMap.isFF){objs_arr["try_iframe"].onload=Operators.iframeInit;objs_arr["try_iframe"].src=query_str}else{Utils.O(0,"try_iframe")["try_iframe"].src=query_str;if(tn_str.indexOf("  ")!=-1){Map.statusMap.nowPlayingSong.other=tn_str.split("  ").slice(1).join("  ")}else{Map.statusMap.nowPlayingSong.other=tn_str};Map.statusMap.nowPlayingSong.type=params_arr["word"].split(",")[0];Map.statusMap.nowPlayingSong.encode=params_arr["word"].split(",")[1];Map.statusMap.nowPlayingSong.lrcid=params_arr["si"].split(";;")[2]};break;case "2":if(Map.statusMap.login){Map.statusMap.firstTime=true;Map.statusMap.gate=Map.statusMap.GATE2;Map.statusMap.switchBox=Map.statusMap.HIDE;Map.statusMap.NOWSELECTLIST=params_arr["index"];Map.statusMap.NOWPLAYINGLIST=params_arr["index"];var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);var query_str=Utils.setQueryString("4",params_arr["listid"],"0");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){var len=parseInt(results.item(0).text);var i=0;if(len>=0){if(nowlist!=0){list_arr[nowlist]=new listNode()};list_arr[nowlist].listid=params_arr["listid"];list_arr[nowlist].song_arr=new Array(len);while(i<len){var subitem=results.item(i+1).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++}}else{if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{};Operators.switchBox();var objs_arr=Utils.O(0,"add_img");if(parseInt(Map.statusMap.NOWSELECTLIST)>=bangStart){Map.statusMap.FAVO=true;if(Map.statusMap.login){objs_arr["add_img"].alt=Map.statusMap.alts["favoT"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}else{objs_arr["add_img"].alt=Map.statusMap.alts["favoF"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}}else{Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"]};if(list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length>0){var args=new Array();args[0]=String(500);args[1]="0";Operators.playSong(args)}};break;case "3":Map.statusMap.firstTime=true;Map.statusMap.gate=Map.statusMap.GATE3;Map.statusMap.switchBox=Map.statusMap.HIDE;if(parseInt(params_arr["listid"])>(bangEnd-bangStart+1)){list_arr[zhangLoc]=new listNode();list_arr[zhangLoc].listid=params_arr["listid"];Map.statusMap.NOWSELECTLIST=String(zhangLoc);Map.statusMap.NOWPLAYINGLIST=String(zhangLoc)}else{Map.statusMap.NOWSELECTLIST=String(bangStart+parseInt(params_arr["listid"]));Map.statusMap.NOWPLAYINGLIST=String(bangStart+parseInt(params_arr["listid"]))};var loadIndex=0;var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);while(!isNaN(loadIndex)){var query_str=Utils.setQueryString("4",params_arr["listid"],String(loadIndex));var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(parseInt(results.item(0).text)==Map.statusMap.MAXSONGLIMIT){loadIndex++;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<Map.statusMap.MAXSONGLIMIT&&0<=parseInt(results.item(0).text)){loadIndex=NaN;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<0){loadIndex=NaN;if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{loadIndex=NaN}};Operators.switchBox();var objs_arr=Utils.O(0,"add_img");if(parseInt(Map.statusMap.NOWSELECTLIST)>=bangStart){Map.statusMap.FAVO=true;if(Map.statusMap.login){objs_arr["add_img"].alt=Map.statusMap.alts["favoT"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}else{objs_arr["add_img"].alt=Map.statusMap.alts["favoF"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}}else{Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"]};if(list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length>0){var args=new Array();args[0]=String(500);args[1]="0";Operators.playSong(args)};break;case "4":Map.statusMap.firstTime=true;Map.statusMap.gate=Map.statusMap.GATE4;Map.statusMap.switchBox=Map.statusMap.HIDE;Map.statusMap.NOWSELECTLIST=String(zhangLoc);Map.statusMap.NOWPLAYINGLIST=String(zhangLoc);list_arr[zhangLoc]=new listNode();list_arr[zhangLoc].listid=params_arr["id"];Utils.getZhangmen(params_arr["id"],params_arr["k"]);break;case "5":Map.statusMap.gate=Map.statusMap.GATE5;Map.statusMap.switchBox=Map.statusMap.HIDE;Map.statusMap.NOWSELECTLIST="0";var objs_arr=Utils.O(0,"Mng_div","MPc_div","Logo_div","user_div","switch_img","switch_div","try_iframe");if(objs_arr!=null){objs_arr["Mng_div"].style.display="none";objs_arr["MPc_div"].style.display="none";objs_arr["Logo_div"].style.display="none";objs_arr["user_div"].style.display="none";if(Map.statusMap.isFF){objs_arr["switch_img"].style.display="none";objs_arr["switch_div"].style.display="none"}};var query_str="m?";if(!Map.statusMap.isFF){var tn_str=unescape(params_arr["tn"].split(",").slice(1).join(","));if(params_arr["si"].split(";;")[2]&&parseInt(params_arr["si"].split(";;")[2])<=0){Map.statusMap.hasLRC=false;if(document.body.clientHeight==220||document.body.clientHeight==222){objs_arr["switch_img"].style.top="60px"}}}else{var tn_str=params_arr["tn"].split(",").slice(1).join(",")};query_str+="ct="+params_arr["ct"]+"&";query_str+="tn="+"baidumt,"+tn_str+"&";query_str+="word="+params_arr["word"]+"&";query_str+="si="+params_arr["si"]+"&";query_str+="lm="+params_arr["lm"];if(Map.statusMap.isFF){objs_arr["try_iframe"].onload=Operators.iframeInit;objs_arr["try_iframe"].src=query_str}else{Utils.O(0,"try_iframe")["try_iframe"].src=query_str;Operators.switchBox();if(tn_str.indexOf("  ")!=-1){Map.statusMap.nowPlayingSong.other=tn_str.split("  ").slice(1).join("  ")}else{Map.statusMap.nowPlayingSong.other=tn_str};Map.statusMap.nowPlayingSong.type=params_arr["word"].split(",")[0];Map.statusMap.nowPlayingSong.encode=params_arr["word"].split(",")[1];Map.statusMap.nowPlayingSong.lrcid=params_arr["si"].split(";;")[2]};var n_pl=parseInt(Map.statusMap.NOWSELECTLIST);if(list_arr[n_pl]!=null&&list_arr[n_pl].song_arr!=null&&list_arr[n_pl].song_arr.length>0){Map.statusMap.NOWSELECTLIST="0";Map.statusMap.NOWPLAYINGLIST="0";var args=new Array();args[0]=String(500);args[1]="0";Operators.playSong(args)};break;default:break}}else{}};operatorsDefine.prototype.iframeInit=function(){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){if(Map.statusMap.isFF){var objs_arr=Utils.O(1,"try_iframe","next_div","pre_div","LrcShower_div","Blrc","plus_div","song","singer","lrctellall_div");objs_arr["lrctellall_div"].innerHTML="";arrBaiduAds[18]=Map.statusMap.UNDEFINED;Map.statusMap.ad_count=0;Map.statusMap.isAds=false;Map.statusMap.hasLRC=false;if(Map.statusMap.timeOut!==null){clearTimeout(Map.statusMap.timeOut)};Map.statusMap.nowPlayingSong.song=objs_arr["song"].innerHTML;Map.statusMap.nowPlayingSong.singer=objs_arr["singer"].innerHTML;Utils.tellAll(String(objs_arr["song"].innerHTML),String(objs_arr["singer"].innerHTML))}else{if(window.frames["try_iframe"].document.readyState=="complete"&&Map.statusMap.NOWPLAYINGLIST!=""){Map.statusMap.isNOW=true};if(window.frames["try_iframe"].document.readyState!="complete"&&Map.statusMap.loaded){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null};if(window.frames["try_iframe"].document.readyState=="complete"&&Map.statusMap.NOWPLAYINGLIST==""&&Map.statusMap.changed){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"};if(!Map.statusMap.hasLRC){var objs_arr=Utils.O(1,"try_iframe","LrcShower_div","Blrc");objs_arr["Blrc"].style.display="inline";objs_arr["LrcShower_div"].style.display="inline";objs_arr["LrcShower_div"].innerHTML="<br><br><br><br><br><br><span style='font-size:12px;margin-left:12px'>&nbsp;抱歉，系统未找到对应歌词。</span>"}};if((window.frames["try_iframe"].document.readyState=="complete")&&(Map.statusMap.gate==Map.statusMap.GATE1||Map.statusMap.gate==Map.statusMap.GATE5)&&(!Map.statusMap.changed)){var objs_arr=Utils.O(1,"try_iframe","next_div","pre_div","LrcShower_div","Blrc","url_div","song","singer","lrctellall_div","plus_div");objs_arr["next_div"].style.display="none";objs_arr["pre_div"].style.display="none";if(Map.statusMap.gate==Map.statusMap.GATE5){var n_pl=parseInt(Map.statusMap.NOWPLAYINGLIST);if(list_arr[n_pl]==null||list_arr[n_pl].song_arr==null||list_arr[n_pl].song_arr.length<=0)objs_arr["plus_div"].style.visibility="hidden"}objs_arr["lrctellall_div"].innerHTML="";if(Map.statusMap.hasLRC){objs_arr["Blrc"].style.display="inline";objs_arr["LrcShower_div"].style.display="inline"};Map.statusMap.changed=true;Map.statusMap.nowPlayingSong.decode=objs_arr["url_div"].childNodes.item(1).id;Map.statusMap.nowPlayingSong.song=objs_arr["song"].innerText;Map.statusMap.nowPlayingSong.singer=objs_arr["singer"].innerText;Utils.setTitle(Map.statusMap.nowPlayingSong.song+" "+Map.statusMap.nowPlayingSong.other+" "+Map.statusMap.nowPlayingSong.singer+" - 试听")};if(window.frames["try_iframe"].document.readyState=="complete"){var objs_arr=Utils.O(1,"try_iframe","song","singer","url_div");if(Map.statusMap.loaded){var temp=objs_arr["url_div"].childNodes.item(1).id;var len=temp.length;temp=temp.substring(len-3,len);if(temp=="ram"||temp==".rm"){var obj=Utils.O(1,"try_iframe","RealPlayer1")["RealPlayer1"];if(obj!==null){try{var tryIt=obj.GetVersionInfo();obj.SetWantErrors(true);Map.statusMap.noRP=false}catch(err){Map.statusMap.noRP=true;if(Map.statusMap.NOWPLAYINGLIST!=""){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}}}else{Map.statusMap.noRP=true;if(Map.statusMap.NOWPLAYINGLIST!=""){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}}}else if(temp=="wma"||temp=="asf"||temp=="mp3"){var obj=Utils.O(1,"try_iframe","MediaPlayer1")["MediaPlayer1"];if(obj!==null){try{obj.SendErrorEvents=false;obj.SendWarningEvents=false}catch(err){}}}};if(Map.statusMap.loaded&&!Map.statusMap.isSwitch){if(Map.statusMap.timeout!==null){clearTimeout(Map.statusMap.timeout)};Utils.tellAll(objs_arr["song"].innerText,objs_arr["singer"].innerText)}};if(window.frames["try_iframe"].document.readyState=="complete"&&!Map.statusMap.hasLRC&&Map.statusMap.NOWPLAYINGLIST!=""){var objs_arr=Utils.O(1,"try_iframe","LrcShower_div","Blrc");objs_arr["Blrc"].style.display="inline";objs_arr["LrcShower_div"].style.display="inline";objs_arr["LrcShower_div"].innerHTML="<br><br><br><br><br><br><span style='font-size:12px;margin-left:12px'>&nbsp;抱歉，系统未找到对应歌词。</span>"};if(window.frames["try_iframe"].document.readyState=="complete"&&!Map.statusMap.hasLRC&&document.body.clientHeight!=220&&document.body.clientHeight!=222){var objs_arr=Utils.O(1,"try_iframe","LrcShower_div","Blrc");objs_arr["Blrc"].style.display="inline";objs_arr["LrcShower_div"].style.display="inline";objs_arr["LrcShower_div"].innerHTML="<br><br><br><br><br><br><span style='font-size:12px;margin-left:12px'>&nbsp;抱歉，系统未找到对应歌词。</span>"};if(window.frames["try_iframe"].document.readyState=="complete"&&Map.statusMap.NOWPLAYINGLIST!=""){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="inline";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="inline"};Operators.isNext()}}}};operatorsDefine.prototype.switchBox=function(){var objs_arr=Utils.O(0,"Lrc_div","Mng_div","MPc_div","Logo_div","user_div","switch_img","song_div","listmng_div","playmode_div","smode_div","rmode_div","lmode_div","scroll_div","up_img","down_img","try_iframe","switch_div","list_div","logo_img","listmng_img","add_img");if(!Map.statusMap.imgs["mngbgn"]){if(!Map.statusMap.isSwitch){loadImg();objs_arr["logo_img"].src=Map.statusMap.imgs["logo_img"].src;objs_arr["listmng_img"].src=Map.statusMap.imgs["listmng_img"].src;objs_arr["up_img"].src=Map.statusMap.imgs["up_img"].src;objs_arr["down_img"].src=Map.statusMap.imgs["down_img"].src;objs_arr["add_img"].src=Map.statusMap.imgs["add_img"].src;var sheet=document.createStyleSheet();sheet.addRule(".LstDf_div_css","background-image:url("+Map.statusMap.imgsServer+"imgs/listcb.gif);background-repeat:no-repeat;background-position:13px 6px;padding:5px 0 5px 30px;border:1px solid #D7DFE6;cursor:pointer;width:107px!important;width:106px");sheet.addRule("#playmode_div","background:#ECEDED;background-image:url("+Map.statusMap.imgsServer+"imgs/listmng.gif);background-repeat:no-repeat;background-position:right 10px;text-align:right;padding:5px 15px;margin-right:5px;cursor:pointer;font-size:12px;font-weight:100;float:right");sheet.addRule("#song_div","background:url("+Map.statusMap.imgsServer+"imgs/bglt.gif) repeat top;height:350px;margin-left:5px;overflow-y:auto;background-attachment:scroll;float:none");sheet.addRule(".song_adv_div","background:url("+Map.statusMap.imgsServer+"imgs/bglt.gif) repeat top;height:50px;margin-left:5px;overflow-y:auto;background-attachment:scroll;float:none")}};Map.statusMap.isSwitch=true;Operators.closeWin();var ad_obj=new Array();ad_obj["lrctellall_div"]=Utils.O(1,"try_iframe","lrctellall_div")["lrctellall_div"];ad_obj["tellall_div"]=Utils.O(0,"tellall_div")["tellall_div"];var lrc_arr=Utils.O(1,"try_iframe","Blrc","LrcShower_div");if(!Map.statusMap.hasLRC&&Map.statusMap.switchBox==Map.statusMap.HIDE&&(Map.statusMap.gate==Map.statusMap.GATE1||Map.statusMap.gate==Map.statusMap.GATE5)){if(objs_arr["switch_img"].style.top=="60px"){objs_arr["switch_img"].style.top="170px"};lrc_arr["Blrc"].style.display="inline";lrc_arr["LrcShower_div"].style.display="inline";lrc_arr["LrcShower_div"].innerHTML="<br><br><br><br><br><br><span style='font-size:12px;margin-left:12px'>&nbsp;抱歉，系统未找到对应歌词。</span>"};if(Map.statusMap.switchBox==Map.statusMap.HIDE){if(document.getElementById("count")==null){var Img=document.createElement("img");Img.id="count";Img.src=Map.statusMap.imgsServer+"wd/swmb.gif"}else{var Img=Utils.O(0,"count")["count"];Img.src="";Img.src=Map.statusMap.imgsServer+"wd/swmb.gif"};Map.statusMap.switchBox=Map.statusMap.SHOW;objs_arr["switch_img"].src=Map.statusMap.imgs["arrowright"].src;objs_arr["switch_img"].style.filter="normal";objs_arr["switch_img"].alt=Map.statusMap.alts["arrowright"];switch(Map.statusMap.playMode){case Map.statusMap.SMODE:objs_arr["playmode_div"].title=objs_arr["smode_div"].innerHTML;objs_arr["playmode_div"].innerHTML=objs_arr["smode_div"].innerHTML;break;case Map.statusMap.RMODE:objs_arr["playmode_div"].title=objs_arr["rmode_div"].innerHTML;objs_arr["playmode_div"].innerHTML=objs_arr["rmode_div"].innerHTML;break;case Map.statusMap.LMODE:objs_arr["playmode_div"].title=objs_arr["lmode_div"].innerHTML;objs_arr["playmode_div"].innerHTML=objs_arr["lmode_div"].innerHTML;break};if(Map.statusMap.NOWPLAYINGLIST==""){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}};if(!Map.statusMap.login){objs_arr["listmng_div"].title=Map.statusMap.alts["mngn"];objs_arr["user_div"].style.width="190px";objs_arr["user_div"].innerHTML='<nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="login_a" href="javascript:void(0)" onclick="Controller(event);return false;">登录</a>&nbsp;|&nbsp;<a id="reg_a" href="javascript:void(0)" onclick="Controller(event);return false;">注册</a></nobr>';if(navigator.cookieEnabled){if(Utils.O(0,"list_div")["list_div"].innerHTML==""){Combiner("initList");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";Combiner("initSong")}}else{Combiner("initList");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";if(objs_arr["song_div"].innerHTML==Map.msgMap[Map.errorCode.Err_cookieDisabled]||objs_arr["song_div"].innerHTML==""){objs_arr["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_cookieDisabled]}}}else{objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"];var len=Utils.getBytesLength(Map.statusMap.userName);objs_arr["user_div"].style.width=String(190+len*7)+"px";objs_arr["user_div"].innerHTML='<nobr><b>'+Map.statusMap.userName+'</b>&nbsp;|&nbsp;<a id="manage_a" href="javascript:void(0)" onclick="Controller(event);return false;">音乐盒管理</a>&nbsp;|&nbsp;<a id="help_a" href="javascript:void(0)" onclick="Controller(event);return false;">帮助</a>&nbsp;|&nbsp;<a id="logout_a" href="javascript:void(0)" onclick="Controller(event);return false;">退出</a></nobr>';if(Utils.O(0,"list_div")["list_div"].innerHTML==""){var query_str=Utils.setQueryString("3");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])};break;default:var dataLen=parseInt(results.item(0).text);var nodeLen=results.length-1;if(dataLen==nodeLen){var i=0;if(results.item(1).childNodes.item(0).text!="0"){list_arr[0].listid=results.item(1).childNodes.item(0).text;while(i<dataLen){var tempNode=results.item(i+1).childNodes;if(tempNode.item(0).text=="0"){break};list_arr[i]=new listNode();list_arr[i].listid=tempNode.item(0).text;list_arr[i].list=tempNode.item(1).text;if(i==0){var firstLen=parseInt(tempNode.item(2).text)};i++};Combiner("initList");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";var loadIndex=0;var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);if(Map.statusMap.hasCache[nowlist]==0){while(!isNaN(loadIndex)){var query_str=Utils.setQueryString("4",list_arr[nowlist].listid,String(loadIndex));var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(parseInt(results.item(0).text)==Map.statusMap.MAXSONGLIMIT){loadIndex++;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<Map.statusMap.MAXSONGLIMIT&&0<=parseInt(results.item(0).text)){loadIndex=NaN;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<0){loadIndex=NaN;if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{loadIndex=NaN}}};Combiner("initSong")}else{}}else{};break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}};if(Map.statusMap.isAds&&!Map.statusMap.hasLRC){ad_obj["tellall_div"].innerHTML=ad_obj["lrctellall_div"].innerHTML;ad_obj["lrctellall_div"].innerHTML="";ad_obj["tellall_div"].style.display="";lrc_arr["Blrc"].style.display="";lrc_arr["LrcShower_div"].style.display=""};if(objs_arr["switch_div"].style.left=="410px"){objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=0};objs_arr["Lrc_div"].style.left=430;objs_arr["Mng_div"].style.display="inline";objs_arr["MPc_div"].style.display="inline";objs_arr["Logo_div"].style.display="inline";objs_arr["user_div"].style.display="inline";if(!(Map.statusMap.isAds&&Map.statusMap.hasLRC)){window.moveTo((screen.width-document.body.clientWidth)/2,0);window.moveBy(-406,0);window.resizeTo(805,600)};var len=objs_arr["list_div"].childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};var list_div=objs_arr["list_div"];if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"}}else{Map.statusMap.switchBox=Map.statusMap.HIDE;if(Map.statusMap.isAds&&!Map.statusMap.hasLRC){ad_obj["lrctellall_div"].innerHTML=ad_obj["tellall_div"].innerHTML;ad_obj["tellall_div"].innerHTML="";ad_obj["lrctellall_div"].style.display="";lrc_arr["Blrc"].style.display="none";lrc_arr["LrcShower_div"].style.display="none"};if(Map.statusMap.isAds&&Map.statusMap.hasLRC){objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=410;objs_arr["switch_img"].style.top="120px"};if(!(Map.statusMap.isAds&&Map.statusMap.hasLRC)){window.moveTo((screen.width-document.body.clientWidth)/2,0);window.resizeTo(399,600)};objs_arr["Mng_div"].style.display="none";objs_arr["MPc_div"].style.display="none";objs_arr["Logo_div"].style.display="none";objs_arr["user_div"].style.display="none";objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none";objs_arr["switch_img"].src=Map.statusMap.imgs["arrowright"].src;objs_arr["switch_img"].style.filter="fliph";objs_arr["switch_img"].alt=Map.statusMap.alts["arrowleft"];if(!(Map.statusMap.isAds&&Map.statusMap.hasLRC)){objs_arr["Lrc_div"].style.left=20;window.moveTo((screen.width-document.body.clientWidth)/2,0)}}};operatorsDefine.prototype.listManage=function(){if(!Map.statusMap.login){alert(Map.msgMap[Map.errorCode.Err_opListNoLogin]);return};var objs_arr=Utils.O(0,"listmng_div","listmngwin_div","dellistwin_div","newlistwin_div");if((objs_arr["listmngwin_div"].style.display=="none"||objs_arr["listmngwin_div"].style.display=="")){Operators.closeWin();objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgrt"];objs_arr["listmngwin_div"].style.display="inline"}else{objs_arr["listmngwin_div"].style.display="none";objs_arr["dellistwin_div"].style.display="none";objs_arr["newlistwin_div"].style.display="none";objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"]}};operatorsDefine.prototype.newListSelect=function(){Operators.closeWin();var objs_arr=Utils.O(0,"listmngwin_div","newlistwin_div","listmng_div","addsongwin_div","inputlist_text");if(typeof(list_arr[userEnd])=="undefined"){objs_arr["inputlist_text"].value="";objs_arr["newlistwin_div"].style.display="inline";objs_arr["inputlist_text"].focus()}else{objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"];alert(Map.msgMap[Map.errorCode.Err_MAXLISTLIMIT]);objs_arr["listmngwin_div"].style.display="none"}};operatorsDefine.prototype.delListSelect=function(){Operators.closeWin();var objs_arr=Utils.O(0,"listmngwin_div","dellistwin_div","listmng_div","addsongwin_div","selectlist_slt","dellist_btn");if(typeof(list_arr[1])!="undefined"){objs_arr["selectlist_slt"].innerHTML="";var i=1;while(typeof(list_arr[i])!="undefined"&&i<=userEnd){var Option=document.createElement("option");objs_arr["selectlist_slt"].appendChild(Option);Option.text=Utils.cutStringForShort(list_arr[i].list,"list");Option.value=String(i);i++};objs_arr["dellistwin_div"].style.display="inline";objs_arr["dellist_btn"].focus();if(parseInt(Map.statusMap.NOWSELECTLIST)>userStart&&parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){objs_arr["selectlist_slt"].value=String(Map.statusMap.NOWSELECTLIST)}else{if(typeof(list_arr[2])=="undefined"){objs_arr["selectlist_slt"].value="1"}else{objs_arr["selectlist_slt"].value=""}}}else{objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"];alert(Map.msgMap[Map.errorCode.Err_noList])}};operatorsDefine.prototype.listSelect=function(){Operators.closeWin();var objs_arr=Utils.O(0,arguments[0][0],Map.statusMap.NOWSELECTLIST,"add_img","SD_div");objs_arr[Map.statusMap.NOWSELECTLIST].className="LstDf_div_css";objs_arr[arguments[0][0]].className="LstCur_div_css";Map.statusMap.NOWSELECTLIST=arguments[0][0];if(Map.statusMap.NOWSELECTLIST!=Map.statusMap.NOWPLAYINGLIST){Map.statusMap.prePlayingSong=""};if(parseInt(Map.statusMap.NOWSELECTLIST)>=bangStart){if(objs_arr["SD_div"]){objs_arr["SD_div"].style.visibility="hidden"};Map.statusMap.FAVO=true;if(Map.statusMap.login){objs_arr["add_img"].alt=Map.statusMap.alts["favoT"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}else{objs_arr["add_img"].alt=Map.statusMap.alts["favoF"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}}else{if(objs_arr["SD_div"]){objs_arr["SD_div"].style.visibility="visible"};Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"]};if(Map.statusMap.hasCache[parseInt(Map.statusMap.NOWSELECTLIST)]==0){if(Map.statusMap.login||Map.statusMap.NOWSELECTLIST!="0"){var loadIndex=0;var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);while(!isNaN(loadIndex)){var query_str=Utils.setQueryString("4",list_arr[nowlist].listid,String(loadIndex));var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(parseInt(results.item(0).text)==Map.statusMap.MAXSONGLIMIT){loadIndex++;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<Map.statusMap.MAXSONGLIMIT&&0<=parseInt(results.item(0).text)){loadIndex=NaN;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<0){loadIndex=NaN;if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{loadIndex=NaN}}}};Combiner("initSong");if(Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){Combiner("playSong");var songIndex=parseInt(Map.statusMap.nowSongIndex);var loc=4;if(Map.statusMap.isAds){loc=1};if(!isNaN(songIndex)&&songIndex>loc){Utils.O(0,"song_div")["song_div"].scrollTop=(songIndex-loc)*25}else if(!isNaN(songIndex)&&songIndex<=loc){Utils.O(0,"song_div")["song_div"].scrollTop=0}}};operatorsDefine.prototype.addList=function(){var obj=Utils.O(0,"inputlist_text")["inputlist_text"];var list_div=Utils.O(0,"list_div")["list_div"];if(obj.value!=""){var input=Utils.trim(obj.value);input=Utils.cutStringForShort(input,"addlist");input=Utils.setTitleString(input);if(input!="error"&&input!=""&&input!="默认列表"){var query_str=Utils.setQueryString("1",input);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(results!="-1"&&results!="-3"){var i=0;while(typeof(list_arr[i])!="undefined"){i++};list_arr[i]=new listNode();list_arr[i].list=input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%");list_arr[i].listid=results;var before=list_div.children(i);var insert=document.createElement("div");insert.id=String(i);insert.className="LstDf_div_css";insert.title=input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%");insert.onclick=Controller;insert.innerText=Utils.cutStringForShort(input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%"),"list");list_div.insertBefore(insert,before);var len=list_div.childNodes.length;var objs_arr=Utils.O(0,"scroll_div","up_img","down_img");var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"}}else{if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(input=="默认列表"){alert(Map.msgMap[Map.errorCode.Err_defaultList])}else{alert(Map.msgMap[Map.errorCode.Err_wrongInput])}};Utils.O(0,"newlistwin_div")["newlistwin_div"].style.display="none"}else{alert(Map.msgMap[Map.errorCode.Err_noInput])};Utils.O(0,"inputlist_text")["inputlist_text"].value=""};operatorsDefine.prototype.delList=function(){var obj=Utils.O(0,"selectlist_slt")["selectlist_slt"];if(obj.value!=""&&obj.value==Map.statusMap.NOWPLAYINGLIST&&Map.statusMap.NOWPLAYINGLIST!=""){if(Map.statusMap.nextIt!==null){clearTimeout(Map.statusMap.nextIt)};if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null};var list_div=Utils.O(0,"list_div")["list_div"];if(obj.value!=""){var str="您确定要删除“"+list_arr[parseInt(obj.value)].list+"”列表吗?";var yesNo=window.confirm(str);if(yesNo){var listIndex=parseInt(obj.value);var query_str=Utils.setQueryString("2",list_arr[listIndex].listid);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(results==list_arr[listIndex].listid){var i=listIndex;while(list_div.childNodes.item(i+1).innerText!="榜单家族"){list_div.childNodes.item(i).innerText=list_div.childNodes.item(i+1).innerText;list_div.childNodes.item(i).title=list_div.childNodes.item(i+1).title;list_div.childNodes.item(i).className=list_div.childNodes.item(i+1).className;list_arr[i]=list_arr[i+1];i++};list_div.removeChild(list_div.children(i));var song=Map.statusMap.nowPlayingSong.song;var singer=Map.statusMap.nowPlayingSong.singer;var other=Map.statusMap.nowPlayingSong.other;var decode=Map.statusMap.nowPlayingSong.decode;var encode=Map.statusMap.nowPlayingSong.encode;var type=Map.statusMap.nowPlayingSong.type;var lrcid=Map.statusMap.nowPlayingSong.lrcid;list_arr[i]=Map.statusMap.UNDEFINED;if(obj.value==Map.statusMap.NOWSELECTLIST){if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.prePlayingSong="";Map.statusMap.nowSongIndex="";Map.statusMap.nowPlayingSong=new songNode();Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.nowPlayingSong=new songNode();Map.statusMap.nowPlayingSong.song=song;Map.statusMap.nowPlayingSong.singer=singer;Map.statusMap.nowPlayingSong.other=other;Map.statusMap.nowPlayingSong.decode=decode;Map.statusMap.nowPlayingSong.encode=encode;Map.statusMap.nowPlayingSong.type=type;Map.statusMap.nowPlayingSong.lrcid=lrcid;if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}}else if(parseInt(obj.value)<parseInt(Map.statusMap.NOWPLAYINGLIST)&&parseInt(Map.statusMap.NOWPLAYINGLIST)<=userEnd){Map.statusMap.NOWPLAYINGLIST=String(parseInt(Map.statusMap.NOWPLAYINGLIST)-1)};Map.statusMap.NOWSELECTLIST="0";var args=new Array();args[0]="0";args[1]="1";Operators.listSelect(args)}else if(obj.value==Map.statusMap.NOWPLAYINGLIST){if(parseInt(obj.value)<parseInt(Map.statusMap.NOWSELECTLIST)&&parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){Map.statusMap.NOWSELECTLIST=String(parseInt(Map.statusMap.NOWSELECTLIST)-1)};Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.prePlayingSong="";Map.statusMap.nowSongIndex="";Map.statusMap.nowPlayingSong=new songNode();Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.nowPlayingSong=new songNode();Map.statusMap.nowPlayingSong.song=song;Map.statusMap.nowPlayingSong.singer=singer;Map.statusMap.nowPlayingSong.other=other;Map.statusMap.nowPlayingSong.decode=decode;Map.statusMap.nowPlayingSong.encode=encode;Map.statusMap.nowPlayingSong.type=type;Map.statusMap.nowPlayingSong.lrcid=lrcid;if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}}else{if(parseInt(obj.value)<parseInt(Map.statusMap.NOWSELECTLIST)&&parseInt(Map.statusMap.NOWSELECTLIST)<=userEnd){Map.statusMap.NOWSELECTLIST=String(parseInt(Map.statusMap.NOWSELECTLIST)-1)};if(parseInt(obj.value)<parseInt(Map.statusMap.NOWPLAYINGLIST)&&parseInt(Map.statusMap.NOWPLAYINGLIST)<=userEnd){Map.statusMap.NOWPLAYINGLIST=String(parseInt(Map.statusMap.NOWPLAYINGLIST)-1)}};var len=list_div.childNodes.length;var objs_arr=Utils.O(0,"scroll_div","up_img","down_img");var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};Utils.O(0,"dellistwin_div")["dellistwin_div"].style.display="none"}else{alert(Map.msgMap[Map.errorCode.Err_failureOp]);obj.innerHTML="";Utils.O(0,"dellistwin_div")["dellistwin_div"].style.display="none"}}else{if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};obj.innerHTML="";Utils.O(0,"dellistwin_div")["dellistwin_div"].style.display="none"}}}else{alert(Map.msgMap[Map.errorCode.Err_noSelect])}};operatorsDefine.prototype.upList=function(){var obj=Utils.O(0,"list_div","up_img","down_img");if(obj["up_img"].src!=Map.statusMap.imgs["blank"].src){obj["list_div"].scrollTop-=26;if(obj["list_div"].scrollTop==0){obj["up_img"].src=Map.statusMap.imgs["blank"].src;obj["down_img"].src=Map.statusMap.imgs["cbpb"].src;obj["up_img"].style.cursor="default";obj["down_img"].style.cursor="pointer"}else{obj["up_img"].src=Map.statusMap.imgs["cbpt"].src;obj["down_img"].src=Map.statusMap.imgs["cbpb"].src;obj["up_img"].style.cursor="pointer";obj["down_img"].style.cursor="pointer"}}};operatorsDefine.prototype.downList=function(){var obj=Utils.O(0,"list_div","up_img","down_img");var pos=14;if(Map.statusMap.isAds){pos=3};if(obj["down_img"].src!=Map.statusMap.imgs["blank"].src){obj["list_div"].scrollTop+=26;if(obj["list_div"].scrollTop==((obj["list_div"].childNodes.length-pos)*26)){obj["up_img"].src=Map.statusMap.imgs["cbpt"].src;obj["down_img"].src=Map.statusMap.imgs["blank"].src;obj["up_img"].style.cursor="pointer";obj["down_img"].style.cursor="default"}else{obj["up_img"].src=Map.statusMap.imgs["cbpt"].src;obj["down_img"].src=Map.statusMap.imgs["cbpb"].src;obj["up_img"].style.cursor="pointer";obj["down_img"].style.cursor="pointer"}}};operatorsDefine.prototype.playmodeSelect=function(){var objs_arr=Utils.O(0,"playmodewin_div","smode_div","rmode_div","lmode_div");if(objs_arr["playmodewin_div"].style.display=="none"||objs_arr["playmodewin_div"].style.display==""){Operators.closeWin();objs_arr["playmodewin_div"].style.display="inline";if(Map.statusMap.playMode==Map.statusMap.SMODE){objs_arr["smode_div"].className="PlyMCur_div_css"}else{objs_arr["smode_div"].className="PlyM_div_css"};if(Map.statusMap.playMode==Map.statusMap.RMODE){objs_arr["rmode_div"].className="PlyMmCur_div_css"}else{objs_arr["rmode_div"].className="PlyMm_div_css"};if(Map.statusMap.playMode==Map.statusMap.LMODE){objs_arr["lmode_div"].className="PlyMCur_div_css"}else{objs_arr["lmode_div"].className="PlyM_div_css"}}else{objs_arr["playmodewin_div"].style.display="none"}};operatorsDefine.prototype.setPlayMode=function(){var objs_arr=Utils.O(0,"playmodewin_div","playmode_div","smode_div","rmode_div","lmode_div");switch(arguments[0][0]){case "smode_div":objs_arr["playmode_div"].innerHTML=objs_arr["smode_div"].innerHTML;objs_arr["playmode_div"].title=objs_arr["smode_div"].innerHTML;Map.statusMap.playMode=Map.statusMap.SMODE;break;case "rmode_div":objs_arr["playmode_div"].innerHTML=objs_arr["rmode_div"].innerHTML;objs_arr["playmode_div"].title=objs_arr["rmode_div"].innerHTML;Map.statusMap.playMode=Map.statusMap.RMODE;break;case "lmode_div":objs_arr["playmode_div"].innerHTML=objs_arr["lmode_div"].innerHTML;objs_arr["playmode_div"].title=objs_arr["lmode_div"].innerHTML;Map.statusMap.playMode=Map.statusMap.LMODE;break};if(Map.statusMap.nowSongIndex!=""){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break};if(Map.statusMap.playMode!=Map.statusMap.LMODE){Operators.isNext()}else{if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)}}};objs_arr["playmodewin_div"].style.display="none"};operatorsDefine.prototype.closeWin=function(){if(!Map.statusMap.imgs["mngbgn"]){loadImg()};var objs_arr=Utils.O(0,"listmng_div","newlistwin_div","dellistwin_div","addsongwin_div","playmodewin_div","addsong_text","selectall_input","listmngwin_div");objs_arr["listmngwin_div"].style.display="none";objs_arr["newlistwin_div"].style.display="none";objs_arr["dellistwin_div"].style.display="none";objs_arr["addsongwin_div"].style.display="none";objs_arr["playmodewin_div"].style.display="none";objs_arr["addsong_text"].value="";objs_arr["selectall_input"].checked=false;if(Map.statusMap.login){objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"]}else{objs_arr["listmng_div"].title=Map.statusMap.alts["mngn"]};if(Map.statusMap.addSong=="1"){var objs_arr=Utils.O(0,"showresult_div","PopAddS_div","PopAdd_div","addsong_text","addsong_btn");objs_arr["PopAddS_div"].style.height="135px";objs_arr["PopAddS_div"].style.top="340px";objs_arr["PopAdd_div"].style.top="335px";objs_arr["addsong_btn"].style.display="";objs_arr["addsong_text"].value="";objs_arr["addsong_text"].disabled=false;objs_arr["addsong_text"].style.background="#FFFFFF";objs_arr["showresult_div"].style.display="none"};if(Map.statusMap.addSong=="2"){var objs_arr=Utils.O(0,"Mis","ST_div","showresult_div","PopAddS_div","addsongwin_div","PopAdd_div","selectall_div","addsong_text");var len=Map.statusMap.misArr.length;if(len>10){len=10};objs_arr["addsongwin_div"].style.display="none";objs_arr["Mis"].style.display="none";objs_arr["ST_div"].style.display="none";objs_arr["showresult_div"].innerHTML="";objs_arr["showresult_div"].style.display="none";objs_arr["selectall_div"].style.display="none";objs_arr["addsong_text"].value="";objs_arr["addsong_text"].disabled=false;objs_arr["addsong_text"].style.background="#FFFFFF";objs_arr["PopAddS_div"].style.height=String(parseInt(objs_arr["PopAddS_div"].style.height)-24*len-65)+"px";objs_arr["PopAdd_div"].style.top=String(parseInt(objs_arr["PopAdd_div"].style.top)+24*len+64)+"px";objs_arr["PopAddS_div"].style.top=String(parseInt(objs_arr["PopAddS_div"].style.top)+24*len+65)+"px";Map.statusMap.addSong="1"};if(Map.statusMap.addSong=="5"||Map.statusMap.addSong=="3"||Map.statusMap.addSong=="4"){var obj=Utils.O(0,"addsong_text","addsongwin_div","showresult_div","addsong_btn","PopAddS_div","PopAdd_div");var len=Map.statusMap.RSArr.length;obj["addsongwin_div"].style.display="none";obj["showresult_div"].innerHTML="";obj["showresult_div"].style.display="none";obj["addsong_text"].disabled=false;obj["addsong_text"].style.background="#FFFFFF";obj["addsong_text"].value="";obj["addsong_btn"].style.display="";obj["PopAddS_div"].style.top=String(parseInt(obj["PopAddS_div"].style.top)+len*24-37)+"px";obj["PopAdd_div"].style.top=String(parseInt(obj["PopAdd_div"].style.top)+len*24-36)+"px";obj["PopAddS_div"].style.height=obj["PopAdd_div"].style.height;Map.statusMap.addSong="1"};Map.statusMap.RS="1";Map.statusMap.addSong="1"};operatorsDefine.prototype.addToMusicBox=function(){if(document.getElementById("count")==null){var Img=document.createElement("img");Img.id="count";Img.src=Map.statusMap.imgsServer+"wd/atmb.gif"}else{var Img=Utils.O(0,"count")["count"];Img.src="";Img.src=Map.statusMap.imgsServer+"wd/atmb.gif"};Operators.closeWin();Utils.O(1,"try_iframe","plus_div")["plus_div"].disabled=true;Utils.O(1,"try_iframe","plus_a")["plus_a"].disabled=true;var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);var changed=false;var success=true;if(Map.statusMap.switchBox==Map.statusMap.HIDE){Operators.switchBox()};if(nowlist>userEnd){nowlist=0;changed=true;if(Map.statusMap.hasCache[nowlist]==0){var loadIndex=0;while(!isNaN(loadIndex)){var query_str=Utils.setQueryString("4",list_arr[nowlist].listid,String(loadIndex));var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(parseInt(results.item(0).text)==Map.statusMap.MAXSONGLIMIT){loadIndex++;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<Map.statusMap.MAXSONGLIMIT&&0<=parseInt(results.item(0).text)){loadIndex=NaN;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<0){loadIndex=NaN;success=false;if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{loadIndex=NaN;success=false}}}};if(list_arr[nowlist].song_arr.length<Map.statusMap.MAXSONGLIMIT&&success){var title_str=Utils.setTitleString(Map.statusMap.nowPlayingSong.song,Map.statusMap.nowPlayingSong.singer,Map.statusMap.nowPlayingSong.other);if(title_str!="error"){var query_str=Utils.setQueryString("7","2",list_arr[nowlist].listid,"1",title_str,"0");if(query_str!="error"){var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "1":if((Map.statusMap.login&&results.item(1).childNodes.item(0).text!="0")||(!Map.statusMap.login&&results.item(1).childNodes.item(0).text=="0")){list_arr[nowlist].song_arr.push(new songNode());if(Map.statusMap.login){list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].titleid=results.item(1).childNodes.item(0).text};list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].song=Map.statusMap.nowPlayingSong.song;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].singer=Map.statusMap.nowPlayingSong.singer;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].other=results.item(1).childNodes.item(1).text.split("$$")[2];list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].lrcid=Map.statusMap.nowPlayingSong.lrcid;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].type=Map.statusMap.nowPlayingSong.type;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].encode=Map.statusMap.nowPlayingSong.encode;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].decode=Map.statusMap.nowPlayingSong.decode;if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==String(nowlist)){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWSELECTLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}};if(changed){var objs_arr=Utils.O(0,"add_img","song_div");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstDf_div_css";Map.statusMap.NOWSELECTLIST=String(nowlist);Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";if(parseInt(Map.statusMap.NOWSELECTLIST)>=bangStart){Map.statusMap.FAVO=true;if(Map.statusMap.login){objs_arr["add_img"].alt=Map.statusMap.alts["favoT"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}else{objs_arr["add_img"].alt=Map.statusMap.alts["favoF"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}}else{Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"]};Combiner("initSong");var nowlen=list_arr[nowlist].song_arr.length;if(nowlen>14){objs_arr["song_div"].scrollTop=25*(nowlen-14)}}else{Combiner("addSong")}}else{alert(Map.msgMap[Map.errorCode.Err_timeout])};break;case "-1":case "-2":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:alert(Map.msgMap[Map.errorCode.Err_failureOp]);break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}}}else{if(success){if(!changed){alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}else{alert(Map.msgMap[Map.errorCode.Err_cannotAdd])}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}};Utils.O(1,"try_iframe","plus_div")["plus_div"].disabled=false;Utils.O(1,"try_iframe","plus_a")["plus_a"].disabled=false};operatorsDefine.prototype.preSong=function(){Operators.closeWin();Map.statusMap.nextRound=0;var args=new Array();args[0]=String(parseInt(Map.statusMap.preSongIndex)+500);args[1]="0";Map.statusMap.isPre=true;Operators.playSong(args)};operatorsDefine.prototype.nextSong=function(){Operators.closeWin();Map.statusMap.nextRound=0;var args=new Array();args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500);args[1]="0";Operators.playSong(args)};operatorsDefine.prototype.playSong=function(){if(arguments[0][0]!="NaN"){var loading=Utils.O(0,"loading")["loading"];switch(Map.statusMap.nowPlayingSong.type){case "wma":case "mp3":var player=Utils.O(1,"try_iframe","MediaPlayer1")["MediaPlayer1"];if(player){try{if(loading.style.visibility=="hidden"){if(player.OpenState==3||player.OpenState==4){var doIt=false}else{var doIt=true;player.Stop()}}else{var doIt=false}}catch(err){}};break;case "rm":var player=Utils.O(1,"try_iframe","RealPlayer1")["RealPlayer1"];if(player){try{if(loading.style.visibility=="hidden"){if(player.GetPlayState()==1){var doIt=false}else{var doIt=true;player.DoStop()}}else{var doIt=false}}catch(err){}};break};if(Map.statusMap.nextIt!==null){clearTimeout(Map.statusMap.nextIt)};if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null;if(doIt||Map.statusMap.nextOp){Map.statusMap.nextOp=false;if(!Map.statusMap.firstTime){if(Map.statusMap.timeOut!==null){clearTimeout(Map.statusMap.timeOut)};if(Map.statusMap.hasLRC){Map.statusMap.hadLRC=true}else{Map.statusMap.hadLRC=false};var objs_arr=Utils.O(0,"Lrc_div","switch_img","switch_div","Mng_div","MPc_div","list_div","song_div","scroll_div","up_img","down_img");var list_div=objs_arr["list_div"];var ad_obj=new Array();ad_obj["lrctellall_div"]=Utils.O(1,"try_iframe","lrctellall_div")["lrctellall_div"];ad_obj["tellall_div"]=Utils.O(0,"tellall_div")["tellall_div"];Map.statusMap.ad_count=0;if(Map.statusMap.isAds){Map.statusMap.hasAds=true}else{Map.statusMap.hasAds=false};Map.statusMap.isAds=false;arrBaiduAds[18]=Map.statusMap.UNDEFINED;ad_obj["tellall_div"].innerHTML="";if(ad_obj["lrctellall_div"]){ad_obj["lrctellall_div"].innerHTML=""};objs_arr["MPc_div"].style.height=450;objs_arr["list_div"].style.height=370;objs_arr["song_div"].style.height=350;var len=objs_arr["list_div"].childNodes.length;var pos=15;if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};if(Map.statusMap.hasAds&&objs_arr["switch_div"].style.left=="410px"){objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=0}};if(Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){Map.statusMap.prePlayingSong=Map.statusMap.nowSongIndex}else{Map.statusMap.prePlayingSong=""};var songIndex=parseInt(arguments[0][0])-500;if(arguments[0][1]=="0"||arguments[0][1]=="2"){var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);var loc=4;if(Map.statusMap.isAds){loc=1};if(songIndex>loc&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){Utils.O(0,"song_div")["song_div"].scrollTop=(songIndex-loc)*25}else{if(Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){Utils.O(0,"song_div")["song_div"].scrollTop=0}}}else{Operators.closeWin();Map.statusMap.nextRound=0;var listIndex=parseInt(Map.statusMap.NOWSELECTLIST);Map.statusMap.NOWPLAYINGLIST=Map.statusMap.NOWSELECTLIST};if(document.body.clientWidth>500&&Map.statusMap.switchBox==Map.statusMap.HIDE){window.moveTo((screen.width-document.body.clientWidth)/2,0);objs_arr["Lrc_div"].style.left=20;window.resizeTo(399,600);window.moveTo((screen.width-document.body.clientWidth)/2,0)};var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break};Map.statusMap.nowSongIndex=String(songIndex);var tempNode=Map.statusMap.nowPlayingSong;Map.statusMap.nowPlayingSong=list_arr[listIndex].song_arr[songIndex];var song=list_arr[listIndex].song_arr[songIndex].song;var singer=list_arr[listIndex].song_arr[songIndex].singer;var other=list_arr[listIndex].song_arr[songIndex].other;if(Map.statusMap.nowPlayingSong.encode==""){var songTitle=Utils.setTitleString(song,singer,other);var queryString=Utils.setQueryString("12","1",songTitle);if(arguments[0][1]=="2"){queryString+="&cs=2"+String(Map.statusMap.nextRound)};var results=Communicator("GET",queryString,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "1":var content=results.item(1).childNodes;if(content.length==4){var encode=content.item(0).text;var decode=content.item(1).text;var type=Map.statusMap.typeArr[content.item(2).text];var lrcid=content.item(3).text;if(encode=="error"){encode=""}else if(encode=="nothing"){encode="0"}else if(Map.statusMap.noRP&&type=="rm"){encode=""};list_arr[listIndex].song_arr[songIndex].encode=encode;list_arr[listIndex].song_arr[songIndex].type=type;list_arr[listIndex].song_arr[songIndex].lrcid=lrcid;if(encode!=""&&encode!="0"){var loc=encode.lastIndexOf("/");if(loc!=-1){list_arr[listIndex].song_arr[songIndex].decode=encode.substring(0,loc+1)+decode;Map.statusMap.nowPlayingSong=list_arr[listIndex].song_arr[songIndex];Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};if(lrcid&&parseInt(lrcid)<=0){Map.statusMap.hasLRC=false}else{Map.statusMap.hasLRC=true};Map.statusMap.firstTime=false;var query_str="m?";query_str+="ct=134217728&";query_str+="tn=baidumt,"+song+"  "+other+"&";query_str+="word="+type+","+encode+",,"+"["+song+"+"+singer+"]"+"&";query_str+="si="+song+";;"+singer+";;"+lrcid+";;"+lrcid+"&";query_str+="lm=16777216";if(listIndex==0){query_str+="&li=1"}else if(listIndex>0&&listIndex<bangStart){query_str+="&li=2"}else if(listIndex>userEnd&&listIndex<zhangLoc){query_str+="&li=3"}else if(listIndex==zhangLoc){if(Map.statusMap.gate==Map.statusMap.GATE4){query_str+="&li=4"}else{query_str+="&li=3"}};Map.statusMap.selectURL=true;Utils.setTitle(Map.statusMap.nowPlayingSong.song+" "+Map.statusMap.nowPlayingSong.other+" "+Map.statusMap.nowPlayingSong.singer+" - 试听");Utils.O(0,"try_iframe")["try_iframe"].src=query_str}else{Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}}else{if(encode==""){Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}else if(encode=="0"){list_arr[listIndex].song_arr[songIndex].nothing="0";Combiner("noURL");Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}}}else{Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)};break;case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])};Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000);break;default:Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000);break}}else{Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}}else if(Map.statusMap.nowPlayingSong.encode=="0"){Combiner("noURL");Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}else{var encode=list_arr[listIndex].song_arr[songIndex].encode;var lrcid=list_arr[listIndex].song_arr[songIndex].lrcid;var type=list_arr[listIndex].song_arr[songIndex].type;if(!(Map.statusMap.noRP&&type=="rm")){Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.firstTime=false;var query_str="m?";query_str+="ct=134217728&";query_str+="tn=baidumt,"+song+"  "+other+"&";query_str+="word="+type+","+encode+",,"+"["+song+"+"+singer+"]"+"&";query_str+="si="+song+";;"+singer+";;"+lrcid+";;"+lrcid+"&";query_str+="lm=16777216";if(listIndex==0){query_str+="&li=1"}else if(listIndex>0&&listIndex<bangStart){query_str+="&li=2"}else if(listIndex>userEnd&&listIndex<zhangLoc){query_str+="&li=3"}else if(listIndex==zhangLoc){if(Map.statusMap.gate==Map.statusMap.GATE4){query_str+="&li=4"}else{query_str+="&li=3"}};if(Map.statusMap.nextRound==0){Map.statusMap.selectURL=true}else{Map.statusMap.selectURL=false};Utils.O(0,"try_iframe")["try_iframe"].src=query_str;Utils.setTitle(Map.statusMap.nowPlayingSong.song+" "+Map.statusMap.nowPlayingSong.other+" "+Map.statusMap.nowPlayingSong.singer+" - 试听")}else{list_arr[listIndex].song_arr[songIndex].encode="";Map.statusMap.isNOW=false;if(Map.statusMap.nextRound==0){Combiner("playSong")};Map.statusMap.nextRound=0;Map.statusMap.nowPlayingSong=tempNode;Map.statusMap.nextIt=setTimeout(nextIt,2000)}}}else{if(loading.style.visibility=="hidden"){loading.style.top=(document.body.clientHeight-30)/2;loading.style.left=(document.body.clientWidth-160)/2;loading.style.visibility="visible";Map.statusMap.bufferArgs=arguments[0];setTimeout(bufferOp,1000*(3-Map.statusMap.nextCount))}}}};function bufferOp(){Map.statusMap.nextOp=true;var loading=Utils.O(0,"loading")["loading"];loading.style.visibility="hidden";Operators.playSong(Map.statusMap.bufferArgs)};function nextIt(){var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)};operatorsDefine.prototype.delSong=function(){if(Utils.O(0,"loading")["loading"].style.visibility=="hidden"){Operators.closeWin();if(Map.statusMap.selectElem==Utils.O(0,arguments[0][0])[arguments[0][0]]){Map.statusMap.selecElem=null};var delIndex=parseInt(arguments[0][0])-500;var listIndex=parseInt(Map.statusMap.NOWSELECTLIST);if(!Map.statusMap.login){list_arr[listIndex].song_arr.splice(delIndex,1)}else{var query_str=Utils.setQueryString("8",list_arr[listIndex].listid,"1",list_arr[listIndex].song_arr[delIndex].titleid);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(results=="1"){list_arr[listIndex].song_arr.splice(delIndex,1)}else{if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};return false}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp]);return false}};var isNow=false;var songLen=list_arr[listIndex].song_arr.length;if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWSELECTLIST==Map.statusMap.NOWPLAYINGLIST){if(songLen>0){if(delIndex==parseInt(Map.statusMap.nowSongIndex)){isNow=true;if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null;Map.statusMap.prePlayingSong="";switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:if(songLen==1){Map.statusMap.preSongIndex="0";Map.statusMap.nextSongIndex="0"}else{if(Map.statusMap.nowSongIndex!=Map.statusMap.nextSongIndex){if(Map.statusMap.nextSongIndex!="0"){Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)-1)}else{Map.statusMap.nextSongIndex=String(songLen-1)}}else{Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)%songLen)}};if(parseInt(Map.statusMap.preSongIndex)>=songLen){Map.statusMap.preSongIndex=String(songLen-1)};Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];Map.statusMap.nowSongIndex=Map.statusMap.nextSongIndex;break;case Map.statusMap.RMODE:if(songLen==1){Map.statusMap.preSongIndex="0";Map.statusMap.nextSongIndex="0"}else if(parseInt(Map.statusMap.nextSongIndex)>=delIndex){Map.statusMap.nextSongIndex=String(parseInt(Map.statusMap.nextSongIndex)-1)}else if(parseInt(Map.statusMap.preSongIndex)>=delIndex){Map.statusMap.preSongIndex=String(parseInt(Map.statusMap.preSongIndex)-1)};Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];Map.statusMap.nowSongIndex=Map.statusMap.nextSongIndex;break}}else if(delIndex==parseInt(Map.statusMap.nextSongIndex)||delIndex==parseInt(Map.statusMap.preSongIndex)){if(delIndex==parseInt(Map.statusMap.nextSongIndex)){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.player=null}else{};switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:if(delIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1)};var songIndex=parseInt(Map.statusMap.nowSongIndex);Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:if(delIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1)};var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}else if(!isNaN(parseInt(Map.statusMap.nowSongIndex))&&delIndex<parseInt(Map.statusMap.nowSongIndex)){Map.statusMap.nowSongIndex=String(parseInt(Map.statusMap.nowSongIndex)-1);var songIndex=parseInt(Map.statusMap.nowSongIndex);switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}}else{if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null;Map.statusMap.prePlayingSong="";Map.statusMap.nowSongIndex="";Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.selectElem=null;if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}}};var obj=Utils.O(0,"song_div");var len=obj["song_div"].childNodes.length;var div=obj["song_div"].childNodes;var i=delIndex;while(i<len-1){div.item(i).innerHTML=div.item(i+1).innerHTML;div.item(i).className=div.item(i+1).className;if(Map.statusMap.selectElem!==null&&Map.statusMap.selectElem==div.item(i+1)){Map.statusMap.selectElem=div.item(i)};i++};obj["song_div"].removeChild(obj["song_div"].children(len-1));if(obj["song_div"].childNodes.length==0){obj["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_noSong]};if(isNow&&songLen>0){Operators.nextSong()}}};operatorsDefine.prototype.retrySong=function(){if((arguments[0][1]=="1"&&Map.statusMap.canRetry)||arguments[0][1]=="2"){Map.statusMap.canRetry=false;if(arguments[0][1]=="1"){Operators.closeWin();if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null};var retrySongIndex=parseInt(arguments[0][0])-500;if(arguments[0][1]=="1"){var retryListIndex=parseInt(Map.statusMap.NOWSELECTLIST)}else{var retryListIndex=parseInt(Map.statusMap.NOWPLAYINGLIST)};var song=list_arr[retryListIndex].song_arr[retrySongIndex].song;var singer=list_arr[retryListIndex].song_arr[retrySongIndex].singer;var other=list_arr[retryListIndex].song_arr[retrySongIndex].other;var retrySongTitle=Utils.setTitleString(song,singer,other);var retryQueryString=Utils.setQueryString("12","1",retrySongTitle);if(arguments[0][1]=="1"){retryQueryString+="&cs=1"}else if(arguments[0][1]=="2"){retryQueryString+="&cs=3"+String(Map.statusMap.Round)};var results=Communicator("GET",retryQueryString,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "1":var content=results.item(1).childNodes;if(content.length==4){var encode=content.item(0).text;var decode=content.item(1).text;var type=Map.statusMap.typeArr[content.item(2).text];var lrcid=content.item(3).text;if(encode=="error"){encode=""}else if(encode=="nothing"){encode="0"}else if(Map.statusMap.noRP&&type=="rm"){encode=""};list_arr[retryListIndex].song_arr[retrySongIndex].encode=encode;list_arr[retryListIndex].song_arr[retrySongIndex].type=type;list_arr[retryListIndex].song_arr[retrySongIndex].lrcid=lrcid;if(encode!=""&&encode!="0"){var loc=encode.lastIndexOf("/");if(loc!=-1){list_arr[retryListIndex].song_arr[retrySongIndex].decode=encode.substring(0,loc+1)+decode;if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array(2);args[0]=arguments[0][0];args[1]="0";Operators.playSong(args)}}else{if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}}}else{if(encode==""){if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}}else if(encode=="0"){list_arr[retryListIndex].song_arr[retrySongIndex].nothing="0";if(arguments[0][1]!="2"){Combiner("noURL");Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}}}}else{if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}};break;case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])};if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)};break;default:if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)};break}}else{if(arguments[0][1]!="2"){Map.statusMap.nextRound=0;var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}};Map.statusMap.canRetry=true}};operatorsDefine.prototype.addSongSelect=function(){Operators.closeWin();if((!Map.statusMap.login)&&Map.statusMap.FAVO){alert(Map.msgMap[Map.errorCode.Err_opFavNoLogin]);return};var objs_arr=Utils.O(0,"addsongwin_div","newlistwin_div","dellistwin_div","listmngwin_div","listmng_div","addsong_text","PopAdd_div","PopAddS_div","tellall_div","scroll_div","up_img","down_img");if(objs_arr["addsongwin_div"].style.display=="none"||objs_arr["addsongwin_div"].style.display==""){if(!Map.statusMap.FAVO){if(list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length<Map.statusMap.MAXSONGLIMIT){Map.statusMap.addSong="1";objs_arr["addsongwin_div"].style.display="inline";objs_arr["newlistwin_div"].style.display="none";objs_arr["dellistwin_div"].style.display="none";objs_arr["listmngwin_div"].style.display="none";objs_arr["addsong_text"].focus();if(Map.statusMap.login){objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"]}}else{alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}}else{if(Map.statusMap.login){if(typeof(list_arr[userEnd])=="undefined"){if((parseInt(Map.statusMap.NOWSELECTLIST)>userEnd&&parseInt(Map.statusMap.NOWSELECTLIST)<=bangEnd)||Map.statusMap.gate==Map.statusMap.GATE3){var query_str=Utils.setQueryString("5",list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].listid);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(!isNaN(parseInt(results))&&parseInt(results)>0){var i=0;while(typeof(list_arr[i])!="undefined"){i++};list_arr[i]=new listNode();list_arr[i].list=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].list;list_arr[i].listid=results;var dataLen=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length;if(dataLen>Map.statusMap.MAXSONGLIMIT){dataLen=Map.statusMap.MAXSONGLIMIT};list_arr[i].song_arr=new Array(dataLen);var j=0;while(j<dataLen){list_arr[i].song_arr[j]=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[j];j++};Map.statusMap.hasCache[i]=1;var list_div=Utils.O(0,"list_div")["list_div"];var before=list_div.children(i);var insert=document.createElement("div");insert.id=String(i);insert.className="LstDf_div_css";insert.title=list_arr[i].list;insert.onclick=Controller;insert.innerText=Utils.cutStringForShort(list_arr[i].list,"list");list_div.insertBefore(insert,before);var len=list_div.childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"}}else{if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{var list_div=Utils.O(0,"list_div")["list_div"];var dataLen=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length;if(dataLen>Map.statusMap.MAXSONGLIMIT){dataLen=Map.statusMap.MAXSONGLIMIT};var input=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].list;input=Utils.trim(input);input=Utils.cutStringForShort(input,"addlist");input=Utils.setTitleString(input);if(input!="error"&&input!=""&&input!="默认列表"){var query_str=Utils.setQueryString("1",input);var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(!isNaN(parseInt(results))&&parseInt(results)>0){var i=0;while(typeof(list_arr[i])!="undefined"){i++};var newlist=i;list_arr[newlist]=new listNode();list_arr[newlist].list=input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%");;list_arr[newlist].listid=results;list_arr[newlist].song_arr=new Array(dataLen);var before=list_div.children(newlist);var insert=document.createElement("div");insert.id=String(newlist);insert.className="LstDf_div_css";insert.title=input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%");insert.onclick=Controller;insert.innerText=Utils.cutStringForShort(input.replace(/\%26/g,"&").replace(/\%2B/g,"+").replace(/\%25/g,"%"),"list");list_div.insertBefore(insert,before);var len=list_div.childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};var total=0;var count=dataLen;while(count>0){var title_str="";if(count>=10){var titleLen=10}else{var titleLen=count};count-=titleLen;var title_str="";var j=0;while(j<titleLen-1){var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].other;var temp_title_str=Utils.setTitleString(song,singer,other)+";;";title_str+=temp_title_str;j++};var song=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].song;var singer=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].singer;var other=list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr[total*10+j].other;var temp_title_str=Utils.setTitleString(song,singer,other);title_str+=temp_title_str;var query_str=Utils.setQueryString("7","3",list_arr[i].listid,String(titleLen),title_str,"0");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-2":case "-3":if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(String(titleLen)==results.item(0).text&&(results.length-1)==titleLen){var k=0;while(k<titleLen){var Node=results.item(k+1).childNodes;if(Node.item(0).text!="0"){list_arr[newlist].song_arr[total*10+k]=new songNode();list_arr[newlist].song_arr[total*10+k].titleid=Node.item(0).text;list_arr[newlist].song_arr[total*10+k].song=Node.item(1).text.split("$$")[0];list_arr[newlist].song_arr[total*10+k].singer=Node.item(1).text.split("$$")[1];list_arr[newlist].song_arr[total*10+k].other=Node.item(1).text.split("$$")[2]}else{alert(Map.msgMap[Map.errorCode.Err_failureOp]);return false};k++};Map.statusMap.hasCache[newlist]=1}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};total++}}else{if(results=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(input=="默认列表"){alert(Map.msgMap[Map.errorCode.Err_defaultList])}else{alert(Map.msgMap[Map.errorCode.Err_wrongInput])}}}}else{alert(Map.msgMap[Map.errorCode.Err_MAXLISTLIMIT])}}else{}}}};operatorsDefine.prototype.addSong=function(){var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);var objs_arr=Utils.O(0,"addsongwin_div","addsong_text","showresult_div");objs_arr["showresult_div"].scrollTop=0;if(list_arr[nowlist].song_arr.length<Map.statusMap.MAXSONGLIMIT){switch(Map.statusMap.addSong){case "1":case "4":if(objs_arr["addsong_text"].value!=""){var input=Utils.trim(objs_arr["addsong_text"].value);input=Utils.cutStringForShort(input,"addsong");input=Utils.setTitleString(input);if(input!="error"&&input!=""){var query_str=Utils.setQueryString("7","1",list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].listid,"1",input,Map.statusMap.RS);if(query_str!="error"){var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":Map.statusMap.addSong="1";Map.statusMap.RS="1";Combiner("mp3Query");break;case "-2":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:switch(results.item(1).tagName){case "data":if(results.item(0).text=="1"){list_arr[nowlist].song_arr.push(new songNode());if(Map.statusMap.login){list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].titleid=results.item(1).childNodes.item(0).text};list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].song=results.item(1).childNodes.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].singer=results.item(1).childNodes.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].other=results.item(1).childNodes.item(1).text.split("$$")[2];objs_arr["addsongwin_div"].style.display="none";objs_arr["addsong_text"].value="";Combiner("addSong")}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;case "name":Map.statusMap.addSong="2";var count=parseInt(results.item(0).text);var len=results.length-1;if(count==len){var i=0;Map.statusMap.misArr=Map.statusMap.misArr.splice(0,Map.statusMap.misArr.length);Map.statusMap.misArr=new Array(count);while(i<count){Map.statusMap.misArr[i]=results.item(i+1).text;i++};Combiner("initMis")}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;case "rs":if(Map.statusMap.RS!="0"){Map.statusMap.RS=String(parseInt(Map.statusMap.RS)-1);Map.statusMap.addSong="3";var count=parseInt(results.item(0).text);var len=results.length-1;if(count==len){var i=0;Map.statusMap.RSArr=Map.statusMap.RSArr.splice(0,Map.statusMap.RSArr.length);Map.statusMap.RSArr=new Array(count);while(i<count){Map.statusMap.RSArr[i]=results.item(i+1).text;i++};Combiner("initRS")}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{Map.statusMap.addSong="5";Map.statusMap.RS="1";Combiner("mp3Query")};break;default:alert(Map.msgMap[Map.errorCode.Err_failureOp]);break};break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{alert(Map.msgMap[Map.errorCode.Err_fatalInput]);objs_arr["addsong_text"].value="";objs_arr["addsongwin_div"].style.display="none"}}else{};break;case "2":var objs_arr=Utils.O(0,"Mis","ST_div","showresult_div","PopAddS_div","addsongwin_div","PopAdd_div","selectall_div","addsong_text");var i=0;var len=Map.statusMap.misArr.length;var count=0;var title_arr=new Array(len);while(i<len){var obj=Utils.O(0,String(1000+i));if(obj[String(1000+i)].checked){title_arr[count]=Map.statusMap.misArr[i];count++};i++};if(count>0){if(!Map.statusMap.login){var songLen=list_arr[0].song_arr.length;if(songLen+count<=Map.statusMap.MAXSONGLIMIT){var i=0;while(i<count){list_arr[0].song_arr.push(new songNode());list_arr[0].song_arr[list_arr[0].song_arr.length-1].song=title_arr[i].split("$$")[0];list_arr[0].song_arr[list_arr[0].song_arr.length-1].singer=title_arr[i].split("$$")[1];list_arr[0].song_arr[list_arr[0].song_arr.length-1].other=title_arr[i].split("$$")[2];i++};var yesNo=true}else{if(songLen<100){var str=list_arr[0].list+"的歌曲总数将会超过最大多可容纳歌曲数(100)首歌曲，如果您想继续添加的话，只能成功添加前"+String(Map.statusMap.MAXSONGLIMIT-songLen)+"首歌曲，请问是否继续?";var yesNo=window.confirm(str);if(yesNo){var i=0;count=Map.statusMap.MAXSONGLIMIT-songLen;while(i<count){list_arr[0].song_arr.push(new songNode());list_arr[0].song_arr[list_arr[0].song_arr.length-1].song=title_arr[i].split("$$")[0];list_arr[0].song_arr[list_arr[0].song_arr.length-1].singer=title_arr[i].split("$$")[1];list_arr[0].song_arr[list_arr[0].song_arr.length-1].other=title_arr[i].split("$$")[2];i++}}}else{yesNo=false;alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}};objs_arr["addsongwin_div"].style.display="none";objs_arr["Mis"].style.display="none";objs_arr["ST_div"].style.display="none";objs_arr["showresult_div"].innerHTML="";objs_arr["showresult_div"].style.display="none";objs_arr["selectall_div"].style.display="none";objs_arr["addsong_text"].value="";objs_arr["addsong_text"].disabled=false;objs_arr["addsong_text"].style.background="#FFFFFF";if(len>10){len=10};objs_arr["PopAddS_div"].style.height=String(parseInt(objs_arr["PopAddS_div"].style.height)-24*len-65)+"px";objs_arr["PopAdd_div"].style.top=String(parseInt(objs_arr["PopAdd_div"].style.top)+24*len+64)+"px";objs_arr["PopAddS_div"].style.top=String(parseInt(objs_arr["PopAddS_div"].style.top)+24*len+65)+"px";Map.statusMap.addSong="1";if(yesNo){Combiner("addSong")}}else{var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);var songLen=list_arr[nowlist].song_arr.length;if(songLen+count<=Map.statusMap.MAXSONGLIMIT){var yesNo=true}else{if(songLen<100){var str=list_arr[nowlist].list+"的歌曲总数将会超过最大多可容纳歌曲数(100)首歌曲，如果您想继续添加的话，只能成功添加前"+String(Map.statusMap.MAXSONGLIMIT-songLen)+"首歌曲，请问是否继续?";var yesNo=window.confirm(str);if(yesNo){count=Map.statusMap.MAXSONGLIMIT-songLen}}else{yesNo=false;alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT])}};if(yesNo){var total=0;while(count>0){var title_str="";if(count>=10){var titleLen=10}else{var titleLen=count};count-=titleLen;var title_str="";var i=0;while(i<titleLen-1){title_str+=title_arr[total*10+i].replace(/\%/g,"%25").replace(/\&/g,"%26").replace(/\+/g,"%2B")+";;";i++};title_str+=title_arr[total*10+i].replace(/\%/g,"%25").replace(/\&/g,"%26").replace(/\+/g,"%2B");var query_str=Utils.setQueryString("7","2",list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].listid,String(titleLen),title_str,"0");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-2":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break;default:if(String(titleLen)==results.item(0).text&&(results.length-1)==titleLen){var i=0;while(i<titleLen){var Node=results.item(i+1).childNodes;list_arr[nowlist].song_arr.push(new songNode());if(Node.item(0).text!="0"){list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].titleid=Node.item(0).text;list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].song=Node.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].singer=Node.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[list_arr[nowlist].song_arr.length-1].other=Node.item(1).text.split("$$")[2]}else{alert(Map.msgMap[Map.errorCode.Err_failureOp]);return false};i++}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])};total++}};objs_arr["addsongwin_div"].style.display="none";objs_arr["Mis"].style.display="none";objs_arr["ST_div"].style.display="none";objs_arr["showresult_div"].innerHTML="";objs_arr["showresult_div"].style.display="none";objs_arr["selectall_div"].style.display="none";objs_arr["addsong_text"].value="";objs_arr["addsong_text"].disabled=false;objs_arr["addsong_text"].style.background="#FFFFFF";if(len>10){len=10};objs_arr["PopAddS_div"].style.height=String(parseInt(objs_arr["PopAddS_div"].style.height)-24*len-65)+"px";objs_arr["PopAdd_div"].style.top=String(parseInt(objs_arr["PopAdd_div"].style.top)+24*len+64)+"px";objs_arr["PopAddS_div"].style.top=String(parseInt(objs_arr["PopAddS_div"].style.top)+24*len+65)+"px";Map.statusMap.addSong="1";if(yesNo){Combiner("addSong")}}}else{alert(Map.msgMap[Map.errorCode.Err_noChoose])};break}}else{alert(Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT]);objs_arr["addsongwin_div"].style.display="none"};if(Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWSELECTLIST);var songLen=list_arr[listIndex].song_arr.length;switch(Map.statusMap.playMode){case Map.statusMap.SMODE:case Map.statusMap.LMODE:Map.statusMap.preSongIndex=String(((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1);Map.statusMap.nextSongIndex=String((songIndex+1)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[((songIndex-1)<0)?(songIndex-1)+songLen:songIndex-1];Map.statusMap.nextSong=list_arr[listIndex].song_arr[(songIndex+1)%songLen];break;case Map.statusMap.RMODE:var time=new Date();Map.statusMap.preSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.nextSongIndex=String(Math.floor(time.getMilliseconds()*Math.random()*1000)%songLen);Map.statusMap.preSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.preSongIndex)];Map.statusMap.nextSong=list_arr[listIndex].song_arr[parseInt(Map.statusMap.nextSongIndex)];break}}};operatorsDefine.prototype.selectAll=function(){var len=Map.statusMap.misArr.length;var i=0;var obj=Utils.O(0,"selectall_input");while(i<len){var objs_arr=Utils.O(0,String(1000+i));objs_arr[String(1000+i)].checked=obj["selectall_input"].checked;i++}};operatorsDefine.prototype.selectRS=function(){var objs_arr=Utils.O(0,arguments[0][0],"addsong_text");objs_arr["addsong_text"].value=objs_arr[arguments[0][0]].innerHTML;Map.statusMap.addSong="4";Operators.addSong()};operatorsDefine.prototype.Tip=function(){var obj=Utils.O(0,"addsong_text","addsongwin_div","showresult_div","addsong_btn","PopAddS_div","PopAdd_div");var input=Utils.trim(obj["addsong_text"].value);input=Utils.cutStringForShort(input,"addsong");input=Utils.setTitleString(input);var query_str=Map.statusMap.tip+input+'&lm=-1';var len=Map.statusMap.RSArr.length;window.open(query_str,"");obj["addsongwin_div"].style.display="none";obj["showresult_div"].innerHTML="";obj["showresult_div"].style.display="none";obj["addsong_text"].disabled=false;obj["addsong_text"].style.background="#FFFFFF";obj["addsong_text"].value="";obj["addsong_btn"].style.display="";obj["PopAddS_div"].style.top=String(parseInt(obj["PopAddS_div"].style.top)+len*24-35)+"px";obj["PopAdd_div"].style.top=String(parseInt(obj["PopAdd_div"].style.top)+len*24-35)+"px";obj["PopAddS_div"].style.height=obj["PopAdd_div"].style.height;Map.statusMap.addSong="1"};operatorsDefine.prototype.end=function(){if(Map.statusMap.timeOut!==null){clearTimeout(Map.statusMap.timeOut)};if(!Map.statusMap.isFF){if(Map.statusMap.isNewWin){Map.statusMap.newWin.close();Map.statusMap.isNewWin=false};var expires=new Date();var oneYear=expires.getTime()+(365*24*60*1000);var mode=expires.getMilliseconds()*3+Map.statusMap.playMode;expires.setTime(oneYear);Utils.Cookie.setCookie("bdmb0",String(mode),expires);if(!Map.statusMap.login){var len=list_arr[0].song_arr.length;var tag="bdmb";var tagIndex=0;if(len>0){var i=0;var title_str="";while(i<=len){if(Math.floor(i/25)==tagIndex){if(i==len){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires)}else{var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str+=temp_str.split("??").join("")+"??"}}else{var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires);if(i<len){var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str=temp_str+"??"}};i++};expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<=3){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,"",expires)}}else if(len==0){expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<4){var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));if(title_str!=null){Utils.Cookie.setCookie(tag+String(tagIndex+1),title_str,expires)};tagIndex++}}}else{var i=0;while(i<bangStart&&typeof(list_arr[i])!="undefined"){if(Map.statusMap.hasChanged[i]==1){var titleid_str="";var j=0;var len=list_arr[i].song_arr.length;while(j<len-1){titleid_str+=list_arr[i].song_arr[j].titleid+";;";j++};titleid_str+=list_arr[i].song_arr[j].titleid;var query_str=Utils.setQueryString("11",list_arr[i].listid,String(len),titleid_str);var results=Communicator("GET",query_str,false,"","")};i++}}};Map.statusMap.closeIt=false};operatorsDefine.prototype.selectURL=function(){var i=parseInt(Map.statusMap.nextSongIndex);var nowlist=parseInt(Map.statusMap.NOWPLAYINGLIST);if(!isNaN(nowlist)){var len=list_arr[nowlist].song_arr.length;var args=new Array(3);var count=0;var flag=false;while(!isNaN(i)&&count<3&&!flag){if(list_arr[nowlist].song_arr[i].encode==""&&list_arr[nowlist].song_arr[i].nothing!="0"&&list_arr[nowlist].song_arr[i].active!="0"&&i!=parseInt(Map.statusMap.nowSongIndex)){args[count]=i;count++};i++;i=i%len;if(String(i)==Map.statusMap.nowSongIndex){flag=true}};if(count>0){var songTitle=new Array();var title_str="";var i=0;while(i<count){var song=list_arr[nowlist].song_arr[args[i]].song;var singer=list_arr[nowlist].song_arr[args[i]].singer;var other=list_arr[nowlist].song_arr[args[i]].other;songTitle[i]=Utils.setTitleString(song,singer,other);if(i<count-1){title_str+=songTitle[i]+";;"}else{title_str+=songTitle[i]};i++};var queryString=Utils.setQueryString("12",String(count),title_str);var results=Communicator("GET",queryString,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])};break;default:var dataLen=results.length-1;if(dataLen==count){i=0;while(i<count){var child=results.item(i+1).childNodes;var encode=child.item(0).text;var decode=child.item(1).text;var type=Map.statusMap.typeArr[child.item(2).text];var lrcid=child.item(3).text;if(encode=="nothing"){encode="0"}else if(encode=="error"){encode=""};list_arr[nowlist].song_arr[args[i]].encode=encode;list_arr[nowlist].song_arr[args[i]].type=type;list_arr[nowlist].song_arr[args[i]].lrcid=lrcid;if(encode!=""&&encode!="0"){var loc=encode.lastIndexOf("/");if(loc!=-1){list_arr[nowlist].song_arr[args[i]].decode=encode.substring(0,loc+1)+decode}else{}};i++}}else{};break}}else{}}}};operatorsDefine.prototype.isActive=function(){if(Map.statusMap.playMode!=Map.statusMap.LMODE){var nowsong=parseInt(Map.statusMap.nextSongIndex);var nowlist=parseInt(Map.statusMap.NOWPLAYINGLIST);if(!isNaN(nowlist)){var obj=Utils.O(0,"player");var innerHTML_str="";var active=list_arr[nowlist].song_arr[nowsong].active;var nothing=list_arr[nowlist].song_arr[nowsong].nothing;var decode=list_arr[nowlist].song_arr[nowsong].decode;var Type=list_arr[nowlist].song_arr[nowsong].type;if(active!="0"&&nothing!="0"&&decode!=""){switch(Type){case "mp3":case "wma":innerHTML_str+='<object id="testMP" width=0" height="0" classid="CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95" codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=6,4,5,715" align="baseline" border="0" standby="Loading Microsoft Windows Media Player components..." type="application/x-oleobject">';innerHTML_str+='<param name="invokeURLs" value="0">';innerHTML_str+='<param name="FileName" value="'+decode+'">';innerHTML_str+='<param name="ShowControls" value="1">';innerHTML_str+='<param name="ShowPositionControls" value="0">';innerHTML_str+='<param name="ShowAudioControls" value="1">';innerHTML_str+='<param name="ShowTracker" value="1">';innerHTML_str+='<param name="ShowDisplay" value="0">';innerHTML_str+='<param name="ShowStatusBar" value="1">';innerHTML_str+='<param name="AutoSize" value="0">';innerHTML_str+='<param name="ShowGotoBar" value="0">';innerHTML_str+='<param name="ShowCaptioning" value="0">';innerHTML_str+='<param name="AutoStart" value="1">';innerHTML_str+='<param name="PlayCount" value="1">';innerHTML_str+='<param name="AnimationAtStart" value="0">';innerHTML_str+='<param name="TransparentAtStart" value="0">';innerHTML_str+='<param name="AllowScan" value="0">';innerHTML_str+='<param name="EnableContextMenu" value="1">';innerHTML_str+='<param name="ClickToPlay" value="0">';innerHTML_str+='<param name="DefaultFrame" value="datawindow">';innerHTML_str+='<param name="mute" value="1">';innerHTML_str+='<embed src="'+decode+'" align="baseline" border="0" width="0" height="0" type="application/x-mplayer2" pluginspage="http://www.microsoft.com/isapi/redir.dll?prd=windows&amp;sbp=mediaplayer&amp;ar=media&amp;sba=plugin&amp;" id="testMP" showcontrols="1" showpositioncontrols="0" showaudiocontrols="1" showtracker="1" showdisplay="0" showstatusbar="1" autosize="0" mute="1" showgotobar="0" showcaptioning="0" autostart="1" autorewind="0" animationatstart="0" transparentatstart="0" allowscan="1" enablecontextmenu="1" clicktoplay="0" defaultframe="datawindow" invokeurls="0"></embed></object>';obj["player"].innerHTML=innerHTML_str;Map.statusMap.count=0;Map.statusMap.playerType="testMP";Map.statusMap.isActive=setInterval(playState,1000);break;case "rm":if(!Map.statusMap.noRP){}else{list_arr[nowlist].song_arr[nowsong].encode=""};break}}}};function playState(){var songid=parseInt(Map.statusMap.nextSongIndex);var nowlist=parseInt(Map.statusMap.NOWPLAYINGLIST);var obj=Utils.O(0,"player");switch(Map.statusMap.playerType){case "testMP":Map.statusMap.player=Utils.O(0,"testMP")["testMP"];if(Map.statusMap.player.PlayState==2||Map.statusMap.player.PlayState==3){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.player.Stop();obj["player"].innerHTML="";list_arr[nowlist].song_arr[songid].active="0"}else if(Map.statusMap.count==3){if(Map.statusMap.Round==5){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.Round=0;Map.statusMap.player.Stop();obj["player"].innerHTML="";list_arr[nowlist].song_arr[songid].encode=""}else{Map.statusMap.Round++;if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};var args=new Array();args[0]=String(parseInt(Map.statusMap.nowSongIndex)+500);args[1]="2";Operators.retrySong(args)}}else{Map.statusMap.count++};break;case "testRP":Map.statusMap.player=Utils.O(0,"testRP")["testRP"];try{var Volume=Map.statusMap.player.GetVolume();Map.statusMap.noRP=false}catch(err){Map.statusMap.noRP=true};if(!Map.statusMap.noRP){Map.statusMap.player.SetVolume(0);if(Map.statusMap.player.GetPlayState()==3||Map.statusMap.player.GetPlayState()==2){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.player.DoStop();Map.statusMap.player.SetVolume(50);obj["player"].innerHTML="";list_arr[nowlist].song_arr[songid].active="0"}else if(Map.statusMap.count==3){if(Map.statusMap.Round==5){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};Map.statusMap.Round=0;Map.statusMap.player.DoStop();Map.statusMap.player.SetVolume(50);obj["player"].innerHTML="";list_arr[nowlist].song_arr[songid].encode=""}else{Map.statusMap.Round++;if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};var args=new Array();args[0]=String(parseInt(Map.statusMap.nowSongIndex)+500);args[1]="2";Operators.retrySong(args)}}else{Map.statusMap.count++}}else{if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};obj["player"].innerHTML="";list_arr[nowlist].song_arr[songid].encode=""};break}}};operatorsDefine.prototype.isNext=function(){if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};switch(Map.statusMap.nowPlayingSong.type){case "mp3":case "wma":Map.statusMap.nowPlayer=Utils.O(1,"try_iframe","MediaPlayer1")["MediaPlayer1"];Map.statusMap.nextCount=0;Map.statusMap.canNext=setInterval(goNext,1000);break;case "rm":if(!Map.statusMap.noRP){Map.statusMap.nowPlayer=Utils.O(1,"try_iframe","RealPlayer1")["RealPlayer1"];Map.statusMap.nextCount=0;Map.statusMap.canNext=setInterval(goNext,1000)};break};function goNext(){if(Map.statusMap.nowPlayer!==null){switch(Map.statusMap.nowPlayingSong.type){case "wma":case "mp3":if(Map.statusMap.nowPlayer.IsDurationValid&&Map.statusMap.nowPlayer.Duration>0){if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};Map.statusMap.Duration=Map.statusMap.nowPlayer.Duration;var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);if(listIndex==0){var query_str="gomb1.gif"}else if(listIndex>0&&listIndex<bangStart){var query_str="gomb2.gif"}else if(listIndex>userEnd&&listIndex<zhangLoc){var query_str="gomb3.gif"}else if(listIndex==zhangLoc){if(Map.statusMap.gate==Map.statusMap.GATE4){var query_str="gomb4.gif"}else{var query_str="gomb3.gif"}};if(document.getElementById("count")==null){var Img=document.createElement("img");Img.id="count";Img.src=Map.statusMap.imgsServer+"wd/"+query_str}else{var Img=Utils.O(0,"count")["count"];Img.src="";Img.src=Map.statusMap.imgsServer+"wd/"+query_str};Utils.tellAll(Map.statusMap.nowPlayingSong.song,Map.statusMap.nowPlayingSong.singer);if(Map.statusMap.selectURL){Map.statusMap.selectURL=false;Operators.selectURL();Operators.isActive()};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){var retryObj=Utils.O(0,"SRCS_div")["SRCS_div"];if(retryObj){retryObj.style.visibility="visible"}};if(Map.statusMap.playMode!=Map.statusMap.LMODE){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);if(!isNaN(songIndex)&&!isNaN(listIndex)){list_arr[listIndex].song_arr[songIndex].active="0"};Map.statusMap.isPre=false;Map.statusMap.goNext=setInterval(isEnd,1000)}}else if(Map.statusMap.nextCount==3){if(Map.statusMap.nextRound==5){if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);list_arr[listIndex].song_arr[songIndex].encode="";Map.statusMap.nextRound=0;Map.statusMap.nowPlayer.Stop();var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}else{Map.statusMap.nextRound++;if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);list_arr[listIndex].song_arr[songIndex].encode="";Map.statusMap.nowPlayer.Stop();var args=new Array();args[0]=String(parseInt(Map.statusMap.nowSongIndex)+500);args[1]="2";Operators.playSong(args)}}else{Map.statusMap.nextCount++};break;case "rm":if(Map.statusMap.nowPlayer.GetLength()>0){if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};Map.statusMap.Duration=Map.statusMap.nowPlayer.GetLength()/1000;var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);if(listIndex==0){var query_str="gomb1.gif"}else if(listIndex>0&&listIndex<bangStart){var query_str="gomb2.gif"}else if(listIndex>userEnd&&listIndex<zhangLoc){var query_str="gomb3.gif"}else if(listIndex==zhangLoc){if(Map.statusMap.gate==Map.statusMap.GATE4){var query_str="gomb4.gif"}else{var query_str="gomb3.gif"}};if(document.getElementById("count")==null){var Img=document.createElement("img");Img.id="count";Img.src=Map.statusMap.imgsServer+"wd/"+query_str}else{var Img=Utils.O(0,"count")["count"];Img.src="";Img.src=Map.statusMap.imgsServer+"wd/"+query_str};Utils.tellAll(Map.statusMap.nowPlayingSong.song,Map.statusMap.nowPlayingSong.singer);if(Map.statusMap.selectURL){Map.statusMap.selectURL=false;Operators.selectURL();Operators.isActive()};if(Map.statusMap.NOWPLAYINGLIST!=""&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){var retryObj=Utils.O(0,"SRCS_div")["SRCS_div"];if(retryObj){retryObj.style.visibility="visible"}};if(Map.statusMap.playMode!=Map.statusMap.LMODE){var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);if(!isNaN(songIndex)&&!isNaN(listIndex)){list_arr[listIndex].song_arr[songIndex].active="0"};Map.statusMap.isPre=false;Map.statusMap.goNext=setInterval(isEnd,1000)}}else if(Map.statusMap.nextCount==3){if(Map.statusMap.nextRound==5){if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);list_arr[listIndex].song_arr[songIndex].encode="";Map.statusMap.nextRound=0;Map.statusMap.nowPlayer.DoStop();var args=new Array();if(!Map.statusMap.isPre){args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500)}else{args[0]=String(parseInt(Map.statusMap.preSongIndex)+500)};args[1]="0";Operators.playSong(args)}else{Map.statusMap.nextRound++;if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};var songIndex=parseInt(Map.statusMap.nowSongIndex);var listIndex=parseInt(Map.statusMap.NOWPLAYINGLIST);list_arr[listIndex].song_arr[songIndex].encode="";Map.statusMap.nowPlayer.DoStop();var args=new Array();args[0]=String(parseInt(Map.statusMap.nowSongIndex)+500);args[1]="2";Operators.playSong(args)}}else{Map.statusMap.nextCount++};break}}else{if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)}};function isEnd(){if(Map.statusMap.nowPlayer!==null){switch(Map.statusMap.nowPlayingSong.type){case "mp3":case "wma":var pos=Map.statusMap.nowPlayer.CurrentPosition;break;case "rm":var pos=Map.statusMap.nowPlayer.GetPosition()/1000;break};if(pos<=Map.statusMap.Duration&&pos>=Map.statusMap.Duration-1){if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nextRound=0;switch(Map.statusMap.nowPlayingSong.type){case "mp3":case "wma":try{Map.statusMap.nowPlayer.Stop()}catch(err){};break;case "rm":try{Map.statusMap.nowPlayer.DoStop()}catch(err){};break};var args=new Array();args[0]=String(parseInt(Map.statusMap.nextSongIndex)+500);args[1]="0";Operators.playSong(args)}}else{if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)}}}}};operatorsDefine.prototype.openWin=function(){Map.statusMap.userClose=false;if(!Map.statusMap.isNewWin){var elemid=arguments[0][0];switch(elemid){case "login_a":Operators.closeWin();if(!Map.statusMap.login){var expires=new Date();var oneYear=expires.getTime()+(365*24*60*1000);var mode=expires.getMilliseconds()*3+Map.statusMap.playMode;expires.setTime(oneYear);Utils.Cookie.setCookie("bdmb0",String(mode),expires);var len=list_arr[0].song_arr.length;var tag="bdmb";var tagIndex=0;if(len>0){var i=0;var title_str="";while(i<=len){if(Math.floor(i/25)==tagIndex){if(i==len){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires)}else{var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str+=temp_str.split("??").join("")+"??"}}else{var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires);if(i<len){var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str=temp_str+"??"}};i++};expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<=3){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,"",expires)}}else if(len==0){expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<4){var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));if(title_str!=null){Utils.Cookie.setCookie(tag+String(tagIndex+1),title_str,expires)};tagIndex++}}};var url=Map.statusMap.passport+"?login&u="+encodeURI("http://"+window.location.host+Map.statusMap.loginSuccess);Map.statusMap.newWin=window.open(url,"login_win");Map.statusMap.newWinclosed=false;Map.statusMap.isNewWin=true;Map.statusMap.userInterval=setInterval(isClose,1000);break;case "reg_a":Operators.closeWin();if(!Map.statusMap.login){var expires=new Date();var oneYear=expires.getTime()+(365*24*60*1000);var mode=expires.getMilliseconds()*3+Map.statusMap.playMode;expires.setTime(oneYear);Utils.Cookie.setCookie("bdmb0",String(mode),expires);var len=list_arr[0].song_arr.length;var tag="bdmb";var tagIndex=0;if(len>0){var i=0;var title_str="";while(i<=len){if(Math.floor(i/25)==tagIndex){if(i==len){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires)}else{var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str+=temp_str.split("??").join("")+"??"}}else{var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires);if(i<len){var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str=temp_str+"??"}};i++};expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<=3){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,"",expires)}}else if(len==0){expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<4){var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));if(title_str!=null){Utils.Cookie.setCookie(tag+String(tagIndex+1),title_str,expires)};tagIndex++}}};var url=Map.statusMap.passport+"?reg&u="+encodeURI("http://"+window.location.host+Map.statusMap.loginSuccess)+"&skip_ok=1&return_method=get";Map.statusMap.newWin=window.open(url,"reg_win");Map.statusMap.newWinclosed=false;Map.statusMap.isNewWin=true;Map.statusMap.userInterval=setInterval(isClose,1000);break;case "logout_a":Operators.closeWin();var i=0;while(i<bangStart&&typeof(list_arr[i])!="undefined"){if(Map.statusMap.hasChanged[i]==1){var titleid_str="";var j=0;var len=list_arr[i].song_arr.length;if(len>0){while(j<len-1){titleid_str+=list_arr[i].song_arr[j].titleid+";;";j++};titleid_str+=list_arr[i].song_arr[j].titleid;var query_str=Utils.setQueryString("11",list_arr[i].listid,String(len),titleid_str);var results=Communicator("GET",query_str,false,"","")}};i++};var url=Map.statusMap.passport+"?logout&u="+encodeURI("http://"+window.location.host+Map.statusMap.loginSuccess);Map.statusMap.newWin=window.open(url,"logout_win","width=0,height=0,top=5000,left=5000");Map.statusMap.newWinclosed=false;Map.statusMap.isNewWin=true;Map.statusMap.userInterval=setInterval(isClose,1000);break;case "manage_a":window.open(Map.statusMap.manage,"manage_win","resizable, menubar, location, resizeable, status, title, toolbar, scrollbars");break;case "help_a":window.open(Map.statusMap.help,"help_win","resizable, menubar, location, resizeable, status, title, toolbar, scrollbars");break;default:break}}else{if(Map.statusMap.userInterval!==null){clearInterval(Map.statusMap.userInterval)};Map.statusMap.newWin.close();Map.statusMap.isNewWin=false;Operators.openWin(arguments[0])};function isClose(){if(Map.statusMap.newWinclosed){if(Map.statusMap.userInterval!==null){clearInterval(Map.statusMap.userInterval)};if(Map.statusMap.userClose){if(Map.statusMap.timeout!==null){clearTimeout(Map.statusMap.timeout)};if(!(Map.statusMap.NOWPLAYINGLIST!=""&&parseInt(Map.statusMap.NOWPLAYINGLIST)>userEnd)){if(Map.statusMap.isActive!==null){clearInterval(Map.statusMap.isActive)};if(Map.statusMap.canNext!==null){clearInterval(Map.statusMap.canNext)};if(Map.statusMap.goNext!==null){clearInterval(Map.statusMap.goNext)};Map.statusMap.nowPlayer=null;Map.statusMap.player=null};var i=0;while(i<=userEnd){list_arr[i]=Map.statusMap.UNDEFINED;Map.statusMap.hasCache[i]=0;Map.statusMap.hasChanged[i]=0;i++};var objs_arr=Utils.O(0,"listmng_div","scroll_div","up_img","down_img","add_img","list_div","song_div");if(Map.statusMap.login){if(!(Map.statusMap.NOWPLAYINGLIST!=""&&parseInt(Map.statusMap.NOWPLAYINGLIST)>userEnd)){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}};Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"];objs_arr["listmng_div"].title=Map.statusMap.alts["mngbgn"];var firstLen;var query_str=Utils.setQueryString("3");var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){switch(results.item(0).text){case "-1":case "-3":if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])};break;default:var dataLen=parseInt(results.item(0).text);var nodeLen=results.length-1;if(dataLen==nodeLen){var i=0;if(results.item(1).childNodes.item(0).text!="0"){while(i<dataLen){var tempNode=results.item(i+1).childNodes;if(tempNode.item(0).text=="0"){break};list_arr[i]=new listNode();list_arr[i].listid=tempNode.item(0).text;list_arr[i].list=tempNode.item(1).text;if(i==0){firstLen=parseInt(tempNode.item(2).text)};i++};Map.statusMap.NOWSELECTLIST="0";if(!(Map.statusMap.NOWPLAYINGLIST!=""&&parseInt(Map.statusMap.NOWPLAYINGLIST)>userEnd)){Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.nowSongIndex="";Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.prePlayingSong=""};Combiner("initList");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";var len=objs_arr["list_div"].childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};var list_div=objs_arr["list_div"];if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};var loadIndex=0;var nowlist=parseInt(Map.statusMap.NOWSELECTLIST);while(!isNaN(loadIndex)){var query_str=Utils.setQueryString("4",list_arr[nowlist].listid,String(loadIndex));var results=Communicator("GET",query_str,false,"","");if(typeof(results)!="string"||results!="-5"){if(parseInt(results.item(0).text)==Map.statusMap.MAXSONGLIMIT){loadIndex++;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<Map.statusMap.MAXSONGLIMIT&&0<=parseInt(results.item(0).text)){loadIndex=NaN;var len=list_arr[nowlist].song_arr.length+parseInt(results.item(0).text);var i=list_arr[nowlist].song_arr.length;var j=1;while(i<len){var subitem=results.item(j).childNodes;list_arr[nowlist].song_arr[i]=new songNode();list_arr[nowlist].song_arr[i].titleid=subitem.item(0).text;list_arr[nowlist].song_arr[i].song=subitem.item(1).text.split("$$")[0];list_arr[nowlist].song_arr[i].singer=subitem.item(1).text.split("$$")[1];list_arr[nowlist].song_arr[i].other=subitem.item(1).text.split("$$")[2];i++;j++};Map.statusMap.hasCache[nowlist]=1}else if(parseInt(results.item(0).text)<0){loadIndex=NaN;if(results.item(0).text=="-3"){alert(Map.msgMap[Map.errorCode.Err_timeout])}}}else{loadIndex=NaN}};Combiner("initSong")}else{}}else{};break}}else{alert(Map.msgMap[Map.errorCode.Err_failureOp])}}else{if(!(Map.statusMap.NOWPLAYINGLIST!=""&&parseInt(Map.statusMap.NOWPLAYINGLIST)>userEnd)){if(Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"]){Utils.O(1,"try_iframe","next_div","pre_div")["pre_div"].style.display="none";Utils.O(1,"try_iframe","next_div","pre_div")["next_div"].style.display="none"}};Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"];objs_arr["listmng_div"].title=Map.statusMap.alts["mngn"];list_arr[0]=new listNode();list_arr[0].list="默认列表";list_arr[0].listid="";list_arr[0].song_arr=new Array();Map.statusMap.NOWSELECTLIST="0";if(!(Map.statusMap.NOWPLAYINGLIST!=""&&parseInt(Map.statusMap.NOWPLAYINGLIST)>userEnd)){Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.nowSongIndex="";Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.prePlayingSong=""};var tag="bdmb";var tagIndex=0;var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));while(tagIndex<4&&title_str!=null){var title_arr=title_str.split("??");var len=title_arr.length-1;var i=0;while(i<len){list_arr[0].song_arr.push(new songNode());list_arr[0].song_arr[list_arr[0].song_arr.length-1].song=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[0]));list_arr[0].song_arr[list_arr[0].song_arr.length-1].singer=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[1]));list_arr[0].song_arr[list_arr[0].song_arr.length-1].other=Utils.Base64.UTF8216(Utils.Base64.Decode(title_arr[i].split("$$")[2]));i++};tagIndex++;title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1))};Map.statusMap.hasCache[0]=1;Combiner("initList");Utils.O(0,Map.statusMap.NOWSELECTLIST)[Map.statusMap.NOWSELECTLIST].className="LstCur_div_css";var len=objs_arr["list_div"].childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";var list_div=objs_arr["list_div"];if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{var list_div=objs_arr["list_div"];list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};if(navigator.cookieEnabled){Combiner("initSong")}else{objs_arr["song_div"].innerHTML=Map.msgMap[Map.errorCode.Err_cookieDisabled]};if(parseInt(Map.statusMap.NOWPLAYINGLIST)>=bangStart){Combiner("playSong")}}}}}};operatorsDefine.prototype.loadAds=function(){var script=Utils.O(0,"ad_script")["ad_script"].childNodes.item(0);var objs_arr=Utils.O(0,"Lrc_div","switch_img","switch_div","Mng_div","MPc_div","list_div","song_div","scroll_div","up_img","down_img");var list_div=objs_arr["list_div"];var ad_obj=new Array();ad_obj["lrctellall_div"]=Utils.O(1,"try_iframe","lrctellall_div")["lrctellall_div"];ad_obj["tellall_div"]=Utils.O(0,"tellall_div")["tellall_div"];if(Map.statusMap.isFF||script.readyState=="loaded"){if(typeof(arrBaiduAds[18])!="undefined"){arrBaiduAds[18]=arrBaiduAds[18].replace(/(^\s*)|(\s*$)/g,"");if(arrBaiduAds[18]!=""&&Map.statusMap.ad_count!=7){Map.statusMap.isAds=true;if(arrBaiduAds[18].split("<embed").length>1){arrBaiduAds[18]="<embed wmode=opaque"+arrBaiduAds[18].split("<embed")[1]};if(Map.statusMap.switchBox==Map.statusMap.HIDE){if(!Map.statusMap.hasLRC){window.moveTo((screen.width-document.body.clientWidth)/2,0);objs_arr["Lrc_div"].style.left=20;window.resizeTo(399,600);if(Map.statusMap.hasAds){window.moveTo((screen.width-document.body.clientWidth)/2,0);ad_obj["tellall_div"].innerHTML="";objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=0};if(!Map.statusMap.isFF&&Map.statusMap.ad_count==0&&objs_arr["switch_img"].style.top=="60px"){objs_arr["switch_img"].style.top="170px"};Utils.O(1,"try_iframe","Blrc")["Blrc"].style.display="none";Utils.O(1,"try_iframe","LrcShower_div")["LrcShower_div"].style.display="none";ad_obj["lrctellall_div"].innerHTML=arrBaiduAds[18];if(Map.statusMap.ad_count==0){ad_obj["lrctellall_div"].style.display="";objs_arr["MPc_div"].style.height=150;objs_arr["list_div"].style.height=81;objs_arr["song_div"].style.height=50}}else{if(!(Map.statusMap.hasAds&&Map.statusMap.hadLRC)){window.moveTo((screen.width-document.body.clientWidth)/2,0);objs_arr["Lrc_div"].style.left=430;window.moveBy(-406,0);window.resizeTo(805,600)};ad_obj["tellall_div"].innerHTML=arrBaiduAds[18];if(Map.statusMap.ad_count==0){ad_obj["tellall_div"].style.display="";objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=410;objs_arr["switch_img"].style.top="120px";objs_arr["MPc_div"].style.height=150;objs_arr["list_div"].style.height=81;objs_arr["song_div"].style.height=50}}}else{objs_arr["Lrc_div"].style.left=430;if(Map.statusMap.ad_count==0){objs_arr["MPc_div"].style.height=150;objs_arr["list_div"].style.height=81;objs_arr["song_div"].style.height=50};ad_obj["tellall_div"].innerHTML=arrBaiduAds[18];if(Map.statusMap.ad_count==0){ad_obj["tellall_div"].style.display=""}};var songIndex=parseInt(Map.statusMap.nowSongIndex);if(!isNaN(songIndex)&&songIndex>1&&Map.statusMap.NOWPLAYINGLIST==Map.statusMap.NOWSELECTLIST){objs_arr["song_div"].scrollTop=(songIndex-1)*25}else{objs_arr["song_div"].scrollTop=0};var listIndex=parseInt(Map.statusMap.NOWSELECTLIST);if(!isNaN(listIndex)&&listIndex>userEnd){listIndex++};if(!isNaN(listIndex)&&listIndex==zhangLoc&&Map.statusMap.gate==Map.statusMap.GATE4){listIndex++};if(!isNaN(listIndex)&&listIndex>2){objs_arr["list_div"].scrollTop=(listIndex-2)*26}else{objs_arr["list_div"].scrollTop=0};var len=objs_arr["list_div"].childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};Map.statusMap.ad_count++;Map.statusMap.timeOut=window.setTimeout("Utils.tellAll()",30000)}else if(Map.statusMap.ad_count==7){if(Map.statusMap.timeOut!==null){clearTimeout(Map.statusMap.timeOut)}}else{Map.statusMap.ad_count=0;Map.statusMap.isAds=false;arrBaiduAds[18]=Map.statusMap.UNDEFINED;ad_obj["tellall_div"].innerHTML="";if(ad_obj["lrctellall_div"]){ad_obj["lrctellall_div"].innerHTML=""};objs_arr["MPc_div"].style.height=450;objs_arr["list_div"].style.height=370;objs_arr["song_div"].style.height=350;var len=objs_arr["list_div"].childNodes.length;var pos=15;if(Map.statusMap.isAds){pos=4};if(len>pos){if(pos==15){objs_arr["scroll_div"].style.top="416px"}else{objs_arr["scroll_div"].style.top="125px"};objs_arr["scroll_div"].style.display="inline";if(pos==15){list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+2)*26}else{list_div.scrollTop=(parseInt(Map.statusMap.NOWSELECTLIST)-pos+1)*26};if(list_div.scrollTop>=((list_div.childNodes.length-pos+1)*26)){objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["blank"].src}else if(list_div.scrollTop<=0){objs_arr["up_img"].src=Map.statusMap.imgs["blank"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}else{objs_arr["up_img"].src=Map.statusMap.imgs["cbpt"].src;objs_arr["down_img"].src=Map.statusMap.imgs["cbpb"].src}}else{list_div.scrollTop=0;objs_arr["scroll_div"].style.top="416px";objs_arr["scroll_div"].style.display="none"};if(Map.statusMap.hasAds&&objs_arr["switch_div"].style.left=="410px"){objs_arr["switch_div"].style.position="absolute";objs_arr["switch_div"].style.left=0};if(document.body.clientWidth>500&&Map.statusMap.switchBox==Map.statusMap.HIDE){window.moveTo((screen.width-document.body.clientWidth)/2,0);objs_arr["Lrc_div"].style.left=20;window.resizeTo(399,600);window.moveTo((screen.width-document.body.clientWidth)/2,0)};if(Map.statusMap.timeOut!==null){clearTimeout(Map.statusMap.timeOut)};if(!Map.statusMap.hasLRC&&Map.statusMap.isSwitch){Utils.O(1,"try_iframe","Blrc")["Blrc"].style.display="inline";Utils.O(1,"try_iframe","LrcShower_div")["LrcShower_div"].style.display="inline";Utils.O(1,"try_iframe","LrcShower_div")["LrcShower_div"].innerHTML="<br><br><br><br><br><br><span style='font-size:12px;margin-left:12px'>&nbsp;抱歉，系统未找到对应歌词。</span>"}}}}};function closeIt(){if(!Map.statusMap.login&&Map.statusMap.closeIt){var expires=new Date();var oneYear=expires.getTime()+(365*24*60*1000);var mode=expires.getMilliseconds()*3+Map.statusMap.playMode;expires.setTime(oneYear);Utils.Cookie.setCookie("bdmb0",String(mode),expires);var len=list_arr[0].song_arr.length;var tag="bdmb";var tagIndex=0;if(len>0){var i=0;var title_str="";while(i<=len){if(Math.floor(i/25)==tagIndex){if(i==len){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires)}else{var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str+=temp_str.split("??").join("")+"??"}}else{var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,title_str,expires);if(i<len){var song=list_arr[0].song_arr[i].song;var singer=list_arr[0].song_arr[i].singer;var other=list_arr[0].song_arr[i].other;var temp_str=Utils.Base64.Encode(Utils.Base64.UTF1628(song))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(singer))+"$$";temp_str+=Utils.Base64.Encode(Utils.Base64.UTF1628(other))+"$$";title_str=temp_str+"??"}};i++};expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<=3){var name=tag+String(tagIndex+1);tagIndex++;Utils.Cookie.setCookie(name,"",expires)}}else if(len==0){expires.setTime(expires.getTime()-(365*24*60*1000)-1);while(tagIndex<4){var title_str=Utils.Cookie.getCookie(tag+String(tagIndex+1));if(title_str!=null){Utils.Cookie.setCookie(tag+String(tagIndex+1),title_str,expires)};tagIndex++}}}};var Operators=new operatorsDefine();function mapDefine(){this.eventNode=function(){return new Object()};this.eventMap=[];this.errorCode={};this.msgMap=[];this.statusMap={}};var Map=new mapDefine();Map.eventMap["main"]=Map.eventNode();Map.eventMap["main"].Onload=Operators.init;Map.eventMap["main"].Onbeforeunload=Operators.end;Map.eventMap["main"].Onunload=closeIt;Map.eventMap["try_iframe"]=Map.eventNode();Map.eventMap["try_iframe"].Onreadystatechange=Operators.iframeInit;Map.eventMap["switch_img"]=Map.eventNode();Map.eventMap["switch_img"].Onclick=Operators.switchBox;Map.eventMap["listmng_img"]=Map.eventNode();Map.eventMap["listmng_img"].Onclick=Operators.listManage;Map.eventMap["listmng_div"]=Map.eventNode();Map.eventMap["listmng_div"].Onclick=Operators.listManage;Map.eventMap["0"]=Map.eventNode();Map.eventMap["0"].Onclick=Operators.listSelect;Map.eventMap["20"]=Map.eventNode();Map.eventMap["20"].Onclick=Operators.selectRS;Map.eventMap["playmode_div"]=Map.eventNode();Map.eventMap["playmode_div"].Onclick=Operators.playmodeSelect;Map.eventMap["smode_div"]=Map.eventNode();Map.eventMap["smode_div"].Onclick=Operators.setPlayMode;Map.eventMap["rmode_div"]=Map.eventNode();Map.eventMap["rmode_div"].Onclick=Operators.setPlayMode;Map.eventMap["lmode_div"]=Map.eventNode();Map.eventMap["lmode_div"].Onclick=Operators.setPlayMode;Map.eventMap["newlist_div"]=Map.eventNode();Map.eventMap["newlist_div"].Onclick=Operators.newListSelect;Map.eventMap["dellist_div"]=Map.eventNode();Map.eventMap["dellist_div"].Onclick=Operators.delListSelect;Map.eventMap["close_img"]=Map.eventNode();Map.eventMap["close_img"].Onclick=Operators.closeWin;Map.eventMap["plus_div"]=Map.eventNode();Map.eventMap["plus_a"]=Map.eventNode();Map.eventMap["plus_a"].Onclick=Operators.addToMusicBox;Map.eventMap["next_div"]=Map.eventNode();Map.eventMap["next_a"]=Map.eventNode();Map.eventMap["next_a"].Onclick=Operators.nextSong;Map.eventMap["pre_div"]=Map.eventNode();Map.eventMap["pre_a"]=Map.eventNode();Map.eventMap["pre_a"].Onclick=Operators.preSong;Map.eventMap["play_img"]=Map.eventNode();Map.eventMap["play_img"].Onclick=Operators.playSong;Map.eventMap["play_a"]=Map.eventNode();Map.eventMap["play_a"].Onclick=Operators.playSong;Map.eventMap["del_img"]=Map.eventNode();Map.eventMap["del_img"].Onclick=Operators.delSong;Map.eventMap["retry_a"]=Map.eventNode();Map.eventMap["retry_a"].Onclick=Operators.retrySong;Map.eventMap["add_img"]=Map.eventNode();Map.eventMap["add_img"].Onclick=Operators.addSongSelect;Map.eventMap["addsong_btn"]=Map.eventNode();Map.eventMap["addsong_btn"].Onclick=Operators.addSong;Map.eventMap["selectall_input"]=Map.eventNode();Map.eventMap["selectall_input"].Onclick=Operators.selectAll;Map.eventMap["tip"]=Map.eventNode();Map.eventMap["tip"].Onclick=Operators.Tip;Map.eventMap["login_a"]=Map.eventNode();Map.eventMap["login_a"].Onclick=Operators.openWin;Map.eventMap["reg_a"]=Map.eventNode();Map.eventMap["reg_a"].Onclick=Operators.openWin;Map.eventMap["logout_a"]=Map.eventNode();Map.eventMap["logout_a"].Onclick=Operators.openWin;Map.eventMap["manage_a"]=Map.eventNode();Map.eventMap["manage_a"].Onclick=Operators.openWin;Map.eventMap["help_a"]=Map.eventNode();Map.eventMap["help_a"].Onclick=Operators.openWin;Map.eventMap["up_img"]=Map.eventNode();Map.eventMap["up_img"].Onclick=Operators.upList;Map.eventMap["down_img"]=Map.eventNode();Map.eventMap["down_img"].Onclick=Operators.downList;Map.eventMap["newlist_btn"]=Map.eventNode();Map.eventMap["newlist_btn"].Onclick=Operators.addList;Map.eventMap["dellist_btn"]=Map.eventNode();Map.eventMap["dellist_btn"].Onclick=Operators.delList;Map.errorCode.Err_cookieDisabled=0;Map.errorCode.Err_noSong=1;Map.errorCode.Err_MAXLISTLIMIT=2;Map.errorCode.Err_MAXSONGLIMIT=3;Map.errorCode.Err_noList=4;Map.errorCode.Err_failureOp=5;Map.errorCode.Err_noSelect=6;Map.errorCode.Err_noInput=7;Map.errorCode.Err_wrongInput=8;Map.errorCode.Err_noChoose=9;Map.errorCode.Err_defaultList=10;Map.errorCode.Err_failureLoad=11;Map.errorCode.Err_fatalInput=12;Map.errorCode.Err_cannotAdd=13;Map.errorCode.Err_timeout=14;Map.errorCode.Err_opListNoLogin=15;Map.errorCode.Err_opFavNoLogin=16;Map.msgMap[Map.errorCode.Err_cookieDisabled]="在IE设置中，您已设置禁用cookie，所以无法享受音乐盒的全部功能。";Map.msgMap[Map.errorCode.Err_noSong]="您的该列表中还没有歌曲，您可以通过“添加歌曲”按钮把您需要的歌曲，添加至这个列表中";Map.msgMap[Map.errorCode.Err_MAXLISTLIMIT]="抱歉，您已到达的列表已是最大限数（100），无法继续添加。";Map.msgMap[Map.errorCode.Err_MAXSONGLIMIT]="抱歉，您已到达的歌曲已是最大限数（100），无法继续添加。";Map.msgMap[Map.errorCode.Err_noList]="抱歉，您当前没有可删除的列表";Map.msgMap[Map.errorCode.Err_failureOp]="操作未成功，请重新操作";Map.msgMap[Map.errorCode.Err_noSelect]="抱歉，您尚未选择要删除的列表";Map.msgMap[Map.errorCode.Err_noInput]="抱歉，您尚未输入要添加的列表名";Map.msgMap[Map.errorCode.Err_wrongInput]="您输入的内容含有非法字符，请重新输入。";Map.msgMap[Map.errorCode.Err_noChoose]="请选择您需要添加的歌曲";Map.msgMap[Map.errorCode.Err_defaultList]="抱歉，“默认列表”不能重复添加。";Map.msgMap[Map.errorCode.Err_failureLoad]="抱歉，该列表打开失败，请您重新操作";Map.msgMap[Map.errorCode.Err_fatalInput]="您输入的内容含有非法字符，请重新输入。";Map.msgMap[Map.errorCode.Err_cannotAdd]="抱歉，默认列表的歌曲已是最大限数（100），无法继续添加。";Map.msgMap[Map.errorCode.Err_timeout]="您现在是未登录状态，请您登录以后再进行操作。";Map.msgMap[Map.errorCode.Err_opListNoLogin]="抱歉，在登录以后您才能删除和新建列表。";Map.msgMap[Map.errorCode.Err_opFavNoLogin]="抱歉，在登录以后您才能收藏该列表。";Map.statusMap.imgs=[];Map.statusMap.imgsServer="http://imgs.zhangmen.baidu.com/";function loadImg(){Map.statusMap.imgs["arrowright"]=new Image();Map.statusMap.imgs["add"]=new Image();Map.statusMap.imgs["play"]=new Image();Map.statusMap.imgs["pycg"]=new Image();Map.statusMap.imgs["del"]=new Image();Map.statusMap.imgs["tip"]=new Image();Map.statusMap.imgs["cbpt"]=new Image();Map.statusMap.imgs["cbpb"]=new Image();Map.statusMap.imgs["blank"]=new Image();Map.statusMap.imgs["logo_img"]=new Image();Map.statusMap.imgs["listmng_img"]=new Image();Map.statusMap.imgs["up_img"]=new Image();Map.statusMap.imgs["down_img"]=new Image();Map.statusMap.imgs["add_img"]=new Image();Map.statusMap.imgs["arrowright"].src=Map.statusMap.imgsServer+"imgs/arrowright.gif";Map.statusMap.imgs["add"].src=Map.statusMap.imgsServer+"imgs/as.gif";Map.statusMap.imgs["play"].src=Map.statusMap.imgsServer+"imgs/play.gif";Map.statusMap.imgs["pycg"].src=Map.statusMap.imgsServer+"imgs/pycg.gif";Map.statusMap.imgs["del"].src=Map.statusMap.imgsServer+"imgs/del.gif";Map.statusMap.imgs["tip"].src=Map.statusMap.imgsServer+"imgs/tip.gif";Map.statusMap.imgs["cbpt"].src=Map.statusMap.imgsServer+"imgs/cbpt.gif";Map.statusMap.imgs["cbpb"].src=Map.statusMap.imgsServer+"imgs/cbpb.gif";Map.statusMap.imgs["blank"].src=Map.statusMap.imgsServer+"imgs/blank.gif";Map.statusMap.imgs["logo_img"].src=Map.statusMap.imgsServer+"imgs/logo.gif";Map.statusMap.imgs["listmng_img"].src=Map.statusMap.imgsServer+"imgs/listmng.gif";Map.statusMap.imgs["up_img"].src=Map.statusMap.imgsServer+"imgs/cbpt.gif";Map.statusMap.imgs["down_img"].src=Map.statusMap.imgsServer+"imgs/cbpb.gif";Map.statusMap.imgs["add_img"].src=Map.statusMap.imgsServer+"imgs/as.gif"};Map.statusMap.imgs["favo"]=new Image();Map.statusMap.imgs["favo"].src=Map.statusMap.imgsServer+"imgs/favlist.gif";Map.statusMap.alts=[];Map.statusMap.alts["arrowleft"]="展开音乐盒";Map.statusMap.alts["arrowright"]="隐藏音乐盒";Map.statusMap.alts["mngn"]="新建，删除列表功能，请登录后使用";Map.statusMap.alts["mngbgn"]="新建/删除列表";Map.statusMap.alts["mngbgrt"]="新建/删除列表";Map.statusMap.alts["favoF"]="抱歉，您需要登录或注册以后，才能收藏该列表";Map.statusMap.alts["favoT"]="收藏列表";Map.statusMap.alts["add"]="添加歌曲";Map.statusMap.alts["play"]="播放该首歌曲";Map.statusMap.alts["pycg"]="正在播放该首歌曲";Map.statusMap.alts["del"]="删除该首歌曲";Map.statusMap.alts["retry"]="播放的歌曲有误的话，可以重选一个试试看";Map.statusMap.alts["noURL"]="抱歉，暂时没有该歌曲的相关资源";Map.statusMap.GATE0=0;Map.statusMap.GATE1=1;Map.statusMap.GATE2=2;Map.statusMap.GATE3=3;Map.statusMap.GATE4=4;Map.statusMap.GATE5=5;Map.statusMap.gate=Map.statusMap.GATE0;Map.statusMap.HIDE=0;Map.statusMap.SHOW=1;Map.statusMap.isSwitch=false;Map.statusMap.switchBox=Map.statusMap.HIDE;Map.statusMap.login=false;Map.statusMap.MAXLISTLIMIT=100;Map.statusMap.MAXSONGLIMIT=100;Map.statusMap.NOWSELECTLIST="";Map.statusMap.NOWPLAYINGLIST="";Map.statusMap.changed=false;Map.statusMap.nowSongIndex="";Map.statusMap.nowPlayingSong=new songNode();Map.statusMap.preSongIndex="";Map.statusMap.preSong=new songNode();Map.statusMap.nextSongIndex="";Map.statusMap.nextSong=new songNode();Map.statusMap.SMODE=0;Map.statusMap.RMODE=1;Map.statusMap.LMODE=2;Map.statusMap.playMode=Map.statusMap.SMODE;Map.statusMap.hasCache=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Map.statusMap.hasChanged=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Map.statusMap.FAVO=false;Map.statusMap.userName="";Map.statusMap.addSong="1";Map.statusMap.prePlayingSong="";Map.statusMap.misArr=new Array();Map.statusMap.RSArr=new Array();Map.statusMap.RS="1";Map.statusMap.isFF=false;Map.statusMap.hasLRC=true;Map.statusMap.hadLRC=true;Map.statusMap.typeArr=new Array();Map.statusMap.typeArr["0"]="mp3";Map.statusMap.typeArr["1"]="rm";Map.statusMap.typeArr["2"]="wma";Map.statusMap.selectURL=false;Map.statusMap.isActive=null;Map.statusMap.count=0;Map.statusMap.Round=0;Map.statusMap.player=new Object();Map.statusMap.playerType="";Map.statusMap.mouseDown=false;Map.statusMap.cloneObj=null;Map.statusMap.lastElem=null;Map.statusMap.selectElem=null;Map.statusMap.lastX=null;Map.statusMap.lastY=null;Map.statusMap.fromList=null;Map.statusMap.toList=null;Map.statusMap.canNext=null;Map.statusMap.goNext=null;Map.statusMap.nowPlayer=null;Map.statusMap.nextCount=0;Map.statusMap.nextRound=0;Map.statusMap.Duration=null;Map.statusMap.isAds=false;Map.statusMap.hasAds=false;Map.statusMap.guangGao="http://masrch.baidu.com:8080/ecom?di=18&tm=baidufsbanner&word=";Map.statusMap.ad_count=0;Map.statusMap.timeOut=null;Map.statusMap.time=0;Map.statusMap.firstTime=false;Map.statusMap.userInterval=null;Map.statusMap.isNewWin=false;Map.statusMap.newWin=null;Map.statusMap.newWinclosed=false;Map.statusMap.userClose=false;Map.statusMap.passport="http://passport.baidu.com/";Map.statusMap.loginSuccess="/html/loginSuccess.html";Map.statusMap.help="http://www.baidu.com/search/musicbox_help.html";Map.statusMap.manage="http://passport.baidu.com/#zm,1";Map.statusMap.zhangmen="http://zhangmen.baidu.com/musicbox.jsp";Map.statusMap.tip="http://mp3.baidu.com/m?f=ms&rn=&tn=baidump3&ct=134217728&word=";var UNDEFINED;Map.statusMap.UNDEFINED=UNDEFINED;Map.statusMap.canKeyDown=false;Map.statusMap.loaded=false;Map.statusMap.isPre=false;Map.statusMap.noRP=false;Map.statusMap.tempStr="";Map.statusMap.nextIt=null;Map.statusMap.canRetry=true;Map.statusMap.closeIt=true;Map.statusMap.xmlHttp=null;Map.statusMap.nextOp=true;Map.statusMap.bufferArgs=null;Map.statusMap.isNOW=false;function utilsDefine(){};utilsDefine.prototype.getSearchAsArray=function(){if(arguments.length==1){var search_str=arguments[0]}else{var search_str=window.location.search.substr(1)};var search_arr=new Array();var temp_arr=new Array();var results_arr=new Array();if(search_str.length>0){search_arr=search_str.split("&");for(var i=0;i<search_arr.length;i++){temp_arr=search_arr[i].split("=");if(temp_arr.length==2){results_arr[temp_arr[0]]=temp_arr[1]}else if(temp_arr.length>2){var temp=temp_arr.slice(1);results_arr[temp_arr[0]]=temp.join("=")}}}else{results_arr=null};return results_arr};utilsDefine.prototype.O=function(){var results_arr=new Array();var parent_obj=new Object();if(arguments.length>0){switch(arguments[0]){case 0:parent_obj=self;break;case 1:if(Map.statusMap.isFF){parent_obj=document.getElementById("try_iframe").contentWindow}else{if(typeof(window.frames[String(arguments[1])])!="undefined"){parent_obj=window.frames[String(arguments[1])];results_arr[String(arguments[1])]=parent_obj}else{parent_obj=null;results_arr=null}};break;default:parent_obj=null;results_arr=null;break};for(var i=1+arguments[0];i<arguments.length;i++){if(parent_obj!=null){results_arr[String(arguments[i])]=parent_obj.document.getElementById(String(arguments[i]))}}}else{results_arr=null};return results_arr};utilsDefine.prototype.setTitle=function(title_str){document.title="百度MP3音乐盒_"+title_str};utilsDefine.prototype.setQueryString=function(){var results="x?op="+arguments[0];switch(arguments[0]){case "1":if(arguments.length==2){results+="&list="+arguments[1]}else{return "error"};break;case "2":case "5":if(arguments.length==2){results+="&listid="+arguments[1]}else{return "error"};break;case "4":if(arguments.length==3){results+="&listid="+arguments[1];results+="&index="+arguments[2]}else{return "error"};break;case "7":if(arguments.length==6){results+="&mode="+arguments[1];results+="&listid="+arguments[2];results+="&count="+arguments[3];results+="&title="+arguments[4];results+="&rs="+arguments[5]}else{return "error"};break;case "8":if(arguments.length==4){results+="&listid="+arguments[1];results+="&count="+arguments[2];results+="&titleid="+arguments[3]}else{return "error"};break;case "9":case "10":if(arguments.length==5){results+="&srclistid="+arguments[1];results+="&count="+arguments[2];results+="&titleid="+arguments[3];results+="&destlistid="+arguments[4]}else{return "error"};break;case "11":if(arguments.length==4){results+="&listid="+arguments[1];results+="&count="+arguments[2];results+="&titleid="+arguments[3]}else{return "error"};break;case "12":if(arguments.length==3){results+="&count="+arguments[1];results+="&title="+arguments[2]}else{return "error"};break};return results};utilsDefine.prototype.setTitleString=function(){var results="";if(arguments.length==1){if(arguments[0]!=""){results=arguments[0].split(";;").join("").split("$$").join("");results=results.replace(/\%/g,"%25").replace(/\&/g,"%26").replace(/\+/g,"%2B").replace(/\#/g," ").replace(/\>/g," ").replace(/\</g," ").replace(/\"/g, " ")}else{results="error"}}else if(arguments.length==2||arguments.length==3){if(!(arguments[0]==""&&arguments[1]==""&&arguments[2]=="")){var args=new Array(3);args[0]=Utils.trim(arguments[0].split(";;").join("").split("$$").join(""));args[1]=Utils.trim(arguments[1].split(";;").join("").split("$$").join(""));args[2]=Utils.trim(arguments[2].split(";;").join("").split("$$").join(""));if(args[0]==""&&args[1]==""&&Utils.getBytesLength(args[2])>=64){results="$$$$"+Utils.cutStringForShort(args[2],"addsong")+"$$"}else{if(Utils.getBytesLength(args[0]+args[1]+args[2])<=64){results=args[0]+"$$"+args[1]+"$$"+args[2]+"$$"}else if(Utils.getBytesLength(args[0]+args[1])<=64){results=args[0]+"$$"+args[1]+"$$$$"}else if(Utils.getBytesLength(args[0])<=64){results=args[0]+"$$$$$$"}else{results=Utils.cutStringForShort(args[0],"addsong")+"$$$$$$"}};results=results.replace(/\%/g,"%25").replace(/\&/g,"%26").replace(/\+/g,"%2B").replace(/\#/g," ").replace(/\>/g," ").replace(/\</g," ").replace(/\"/g, " ")}else{results="error"}}else{results="error"};results=Utils.escapeASCII(results);results=Utils.trim(results);return results};utilsDefine.prototype.escapeASCII=function(str){var temp=str;var results="";for(var i=0;i<str.length;i++){results+=(temp.charCodeAt(0,1)<32?"":(temp.substring(0,1)));temp=temp.substring(1,temp.length)};return results};utilsDefine.prototype.getBytesLength=function(str){var len=str.length;for(var i=0;i<len;i++){if(str.charCodeAt(i)>127){len++}};return len};utilsDefine.prototype.cutStringForShort=function(str,mode){var limit=new Array();limit["list"]=11;limit["song"]=18;limit["singer"]=12;limit["retry"]=6;limit["query"]=25;limit["addsong"]=64;limit["addlist"]=40;limit["play"]=17;var results="";var temp_str=str;if(Utils.getBytesLength(temp_str)<=limit[mode]){return temp_str}else{if(mode!="addsong"&&mode!="addlist"){limit[mode]-=2};var i=0;while(i<temp_str.length){var results_len=Utils.getBytesLength(results);var substr_len=Utils.getBytesLength(temp_str.substr(i,1));if((results_len+substr_len)<=limit[mode]){results+=temp_str.substr(i,1)}else{break};i++}};if(mode!="addsong"&&mode!="addlist"){results+="..."};return results};utilsDefine.prototype.trim=function(str){var temp_str=str;var results="";var len=temp_str.length;var i=0;var j=len-1;while((i<len)&&(temp_str.charAt(i)==" ")){i++};if(i>=len){return results};while((j>=0)&&(temp_str.charAt(j)==" ")){j--};results=temp_str.substring(i,j+1);len=results.length;i=0;while(len>0&&i<len){while((i<len)&&(results.charAt(i)!=" ")){i++};if(results.charAt(i+1)==" "){results=results.substring(0,i)+results.substring(i+1,len)}else{i++};len=results.length};return results};utilsDefine.prototype.getZhangmen=function(){Map.statusMap.time=0;function getContent(){if(typeof(songs)!="undefined"){clearInterval(interval);var len=parseInt(count);var title_arr=songs.split(";;");list_arr.push(new listNode());list_arr[zhangLoc].list=list;list_arr[zhangLoc].song_arr=new Array(len);var i=0;while(i<len){var temp_arr=title_arr[i].split("$$");list_arr[zhangLoc].song_arr[i]=new songNode();switch(temp_arr.length){case 1:list_arr[zhangLoc].song_arr[i].other=title_arr[i];break;case 4:list_arr[zhangLoc].song_arr[i].song=temp_arr[0];list_arr[zhangLoc].song_arr[i].singer=temp_arr[1];list_arr[zhangLoc].song_arr[i].other=temp_arr[2];break;default:break};i++};Map.statusMap.hasCache[zhangLoc]=1;Operators.switchBox();var objs_arr=Utils.O(0,"add_img");if(parseInt(Map.statusMap.NOWSELECTLIST)>=bangStart){Map.statusMap.FAVO=true;if(Map.statusMap.login){objs_arr["add_img"].alt=Map.statusMap.alts["favoT"];objs_arr["add_img"].src=Map.statusMap.imgs["favo"].src}else{objs_arr["add_img"].alt=Map.statusMap.alts["favoF"];objs_arr["add_img"].src=Map.statusMap.imgs["nfavo"].src}}else{Map.statusMap.FAVO=false;objs_arr["add_img"].src=Map.statusMap.imgs["add"].src;objs_arr["add_img"].alt=Map.statusMap.alts["add"]};if(list_arr[parseInt(Map.statusMap.NOWSELECTLIST)].song_arr.length>0){var args=new Array();args[0]=String(500);args[1]="0";Operators.playSong(args)}}else{if(Map.statusMap.time==10){clearInterval(interval);Map.statusMap.NOWSELECTLIST="0"}else{Map.statusMap.time++}}};var script=document.createElement("script");script.language="javascript";script.type="text/javascript";script.src=Map.statusMap.zhangmen+"?id="+arguments[0]+"&k="+arguments[1];Utils.O(0,"main")["main"].appendChild(script);var interval=setInterval(getContent,500)};utilsDefine.prototype.tellAll=function(){var div=Utils.O(0,"ad_script")["ad_script"];div.innerHTML="";var script=document.createElement("script");if(Map.statusMap.isFF){script.onload=Operators.loadAds}else{script.onreadystatechange=Operators.loadAds};var time=new Date();var songName="";var singerName="";if(arguments.length==2||arguments.length==0){if(arguments.length==0){songName=Map.statusMap.nowPlayingSong.song;singerName=Map.statusMap.nowPlayingSong.singer}else if(arguments.length==2){songName=arguments[0];singerName=arguments[1]};if(songName!=""&&singerName!=""){script.src=Map.statusMap.guangGao+songName+"??"+singerName+"&t="+Math.random()*time.getMilliseconds();div.appendChild(script)}else{script.src="";div.appendChild(script)}}};utilsDefine.prototype.initXMLHTTP=function(){var xmlHttp_obj=null;if(window.XMLHttpRequest){xmlHttp_obj=new XMLHttpRequest()}else if(window.ActiveXObject){xmlHttp_obj=new ActiveXObject('MSXML2.XMLHTTP.3.0')};return xmlHttp_obj};function cookieDefine(){};cookieDefine.prototype.setCookie=function(){var argv=arguments;var argc=arguments.length;var expires=(argc>2)?argv[2]:null;var path=(argc>3)?argv[3]:null;var domain=(argc>4)?argv[4]:null;var secure=(argc>5)?argv[5]:null;document.cookie=argv[0]+"="+argv[1]+((expires==null)?"":("; expires="+expires.toGMTString()))+((path==null)?"":("; path="+path))+((domain==null)?"":("; domain="+domain))+((secure==null)?"":("; secure="+secure))};cookieDefine.prototype.getCookie=function(){this.getCookieValueByIndex=function(){var startIndex=arguments[0];var endIndex=document.cookie.indexOf(";",startIndex);if(endIndex==-1){endIndex=document.cookie.length};return document.cookie.substring(startIndex,endIndex)};var arg=arguments[0]+"=";var nameLen=arg.length;var cookieLen=document.cookie.length;var i=0;while(i<cookieLen){var j=i+nameLen;if(document.cookie.substring(i,j)==arg){return this.getCookieValueByIndex(j)};i=document.cookie.indexOf(" ",i)+1;if(i==0){break}};return null};function base64Define(){};base64Define.prototype.Encode=function(str){var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var out,i,len;var c1,c2,c3;len=str.length;i=0;out="";while(i<len){c1=str.charCodeAt(i++)&0xff;if(i==len){out+=base64EncodeChars.charAt(c1>>2);out+=base64EncodeChars.charAt((c1&0x3)<<4);out+="==";break};c2=str.charCodeAt(i++);if(i==len){out+=base64EncodeChars.charAt(c1>>2);out+=base64EncodeChars.charAt(((c1&0x3)<<4)|((c2&0xF0)>>4));out+=base64EncodeChars.charAt((c2&0xF)<<2);out+="=";break};c3=str.charCodeAt(i++);out+=base64EncodeChars.charAt(c1>>2);out+=base64EncodeChars.charAt(((c1&0x3)<<4)|((c2&0xF0)>>4));out+=base64EncodeChars.charAt(((c2&0xF)<<2)|((c3&0xC0)>>6));out+=base64EncodeChars.charAt(c3&0x3F)};return out};base64Define.prototype.Decode=function(str){var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var base64DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var c1,c2,c3,c4;var i,len,out;len=str.length;i=0;out="";while(i<len){do{c1=base64DecodeChars[str.charCodeAt(i++)&0xff]}while(i<len&&c1==-1);if(c1==-1){break};do{c2=base64DecodeChars[str.charCodeAt(i++)&0xff]}while(i<len&&c2==-1);if(c2==-1){break};out+=String.fromCharCode((c1<<2)|((c2&0x30)>>4));do{c3=str.charCodeAt(i++)&0xff;if(c3==61){return out};c3=base64DecodeChars[c3]}while(i<len&&c3==-1);if(c3==-1){break};out+=String.fromCharCode(((c2&0XF)<<4)|((c3&0x3C)>>2));do{c4=str.charCodeAt(i++)&0xff;if(c4==61){return out};c4=base64DecodeChars[c4]}while(i<len&&c4==-1);if(c4==-1){break};out+=String.fromCharCode(((c3&0x03)<<6)|c4)};return out};base64Define.prototype.UTF8216=function(str){var out,i,len,c;var char2,char3;out="";len=str.length;i=0;while(i<len){c=str.charCodeAt(i++);switch(c>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:out+=str.charAt(i-1);break;case 12:case 13:char2=str.charCodeAt(i++);out+=String.fromCharCode(((c&0x1F)<<6)|(char2&0x3F));break;case 14:char2=str.charCodeAt(i++);char3=str.charCodeAt(i++);out+=String.fromCharCode(((c&0x0F)<<12)|((char2&0x3F)<<6)|((char3&0x3F)<<0));break}};return out};base64Define.prototype.UTF1628=function(str){var out,i,len,c;out="";len=str.length;for(i=0;i<len;i++){c=str.charCodeAt(i);if((c>=0x0001)&&(c<=0x007F)){out+=str.charAt(i)}else if(c>0x07FF){out+=String.fromCharCode(0xE0|((c>>12)&0x0F));out+=String.fromCharCode(0x80|((c>>6)&0x3F));out+=String.fromCharCode(0x80|((c>>0)&0x3F))}else{out+=String.fromCharCode(0xC0|((c>>6)&0x1F));out+=String.fromCharCode(0x80|((c>>0)&0x3F))}};return out};utilsDefine.prototype.Cookie=new cookieDefine();utilsDefine.prototype.Base64=new base64Define();var Utils=new utilsDefine();function Controller(evt){this.getEvent=function(evt){return(evt)?evt:((window.event)?window.event:null)};this.getElem=function(evt){if(evt.type=="load"||evt.type=="beforeunload"){return window.document.body};return evt.target?evt.target:evt.srcElement};this.setArgs=function(evtype,elemid,elem){var args=new Array();var tempid=elemid;if(!isNaN(parseInt(tempid))){tempid=String(Math.floor(parseInt(tempid)/500))};switch(tempid){case "main":case "try_iframe":case "switch_img":case "listmng_img":case "listmng_div":case "playmode_div":case "newlist_div":case "dellist_div":case "close_img":case "plus_div":case "plus_a":case "pre_div":case "pre_a":case "next_div":case "next_a":case "add_img":case "addsong_btn":case "selectall_input":case "tip":case "up_img":case "down_img":case "newlist_btn":case "dellist_btn":args=null;break;case "0":case "20":case "smode_div":case "rmode_div":case "lmode_div":case "login_a":case "reg_a":case "logout_a":case "manage_a":case "help_a":args[0]=elemid;args[1]="1";break;case "play_img":case "play_a":case "del_img":case "retry_a":args[0]=elem.parentElement.parentElement.id;args[1]="1";break;default:break};return args};this.setOperate=function(args,evtype,elemid){var tempid=elemid;if(!isNaN(parseInt(tempid))){tempid=String(Math.floor(parseInt(tempid)/500))};if((typeof(Map.eventMap[tempid])!="undefined")&&(Map.eventMap[tempid]!=null)){switch(evtype){case "click":if(Map.eventMap[tempid].hasOwnProperty("On"+evtype)){Map.eventMap[tempid].Onclick(args)}else{};break;case "load":if(Map.eventMap[tempid].hasOwnProperty("On"+evtype)){Map.eventMap[tempid].Onload(args)}else{};break;case "readystatechange":if(Map.eventMap[tempid].hasOwnProperty("On"+evtype)){Map.eventMap[tempid].Onreadystatechange(args)}else{};break;case "beforeunload":if(Map.eventMap[tempid].hasOwnProperty("On"+evtype)){Map.eventMap[tempid].Onbeforeunload(args)}else{};break;case "unload":if(Map.eventMap[tempid].hasOwnProperty("On"+evtype)){Map.eventMap[tempid].Onunload(args)}else{};break;default:break}}else{}};var isFF=(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1);evt=getEvent(evt);if(evt){var elem=getElem(evt);var args=setArgs(evt.type,String(elem.id),elem);setOperate(args,evt.type,String(elem.id))}else{};return false};







</script>
</html>